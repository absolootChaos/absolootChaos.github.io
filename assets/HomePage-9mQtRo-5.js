import{d as ke,r as S,c as j,a as n,b as e,t as p,n as ue,F as V,e as ae,f as Y,o as l,_ as we,g as Ie,h as be,i as Te,j as de,w as Fe,k as Q,v as re,l as Pe,m as ft,p as pe,q as Ae,s as Je,T as yt,u as gt,x as Ze}from"./index-BBqrp36J.js";const bt={class:"lb-wrap"},kt={class:"lb-header"},wt={class:"lb-title"},_t={class:"lb-controls"},$t=["onClick"],St={class:"table-wrap"},Ct={class:"lb-table"},Tt={key:0},xt={class:"cell-rank"},It={class:"cell-team"},Pt={class:"team-name"},Dt={class:"cell-players"},Nt={class:"players"},Mt={class:"player"},Et={class:"pname"},At=["href"],Rt={class:"player"},Lt={class:"pname"},Ot=["href"],Bt={class:"cell-points"},Kt={class:"points-pill"},Ut={class:"cell-stat"},Ft={class:"cell-stat"},Vt={class:"cell-time"},Yt={class:"cell-actions"},zt=["onClick"],Wt={key:0,class:"details"},jt={colspan:"8"},qt={class:"details-card"},Xt={class:"details-table-wrap"},Gt={class:"mini"},Ht={class:"legend"},Jt={class:"leg-item"},Zt={key:1},Qt={class:"cell-rank"},ea={class:"cell-team"},ta={class:"team-name"},aa={class:"cell-players"},sa={key:0,class:"players"},na={class:"player"},la={class:"pname"},oa=["href"],ia={class:"player"},ra={class:"pname"},da=["href"],ua={key:1,class:"players"},ca={class:"cell-time"},va={class:"cell-points"},ma={class:"points-pill"},pa={class:"cell-stat"},ha={class:"cell-stat"},fa=ke({__name:"Leaderboard",props:{teams:{},raceOrder:{},pointsTable:{},includeMissingAsLast:{type:Boolean}},setup(o){const a=o,d=S({kind:"combined"}),b=S(null);function L(C){b.value=b.value===C?null:C}const M=j(()=>a.pointsTable??[25,18,15,12,10,8,6,4,2,1]),N=j(()=>a.includeMissingAsLast??!0),x=j(()=>a.raceOrder?.length?a.raceOrder:(a.teams[0]?.races??[]).map((r,$)=>({raceId:r.raceId,label:r.label??`Race ${$+1}`}))),k=j(()=>d.value.kind==="race"?d.value.raceId:null),z=j(()=>k.value?`Team Leaderboard â€” ${x.value.find(m=>m.raceId===k.value)?.label??"Race"}`:"Team Leaderboard â€” Combined Points"),O=j(()=>{const C=new Map;for(const m of a.teams)C.set(m.id,m);return C});function W(C){if(!C)return null;const m=C.trim();return m?m.startsWith("http://")||m.startsWith("https://")?m:`https://twitch.tv/${m.replace(/^@/,"")}`:null}function D(C){if(C==null||!isFinite(C))return"â€”";const m=Math.max(0,Math.floor(C)),r=Math.floor(m/3600),$=Math.floor(m%3600/60),y=m%60;return r>0?`${r}:${String($).padStart(2,"0")}:${String(y).padStart(2,"0")}`:`${$}:${String(y).padStart(2,"0")}`}function f(C){return typeof C=="number"&&isFinite(C)}function B(C){return typeof C=="number"&&isFinite(C)?Math.max(0,Math.floor(C)):0}function se(C){if(C.status==="DNF"||C.status==="DNS")return null;if(f(C.teamSeconds))return C.teamSeconds;const m=C.player1Seconds,r=C.player2Seconds,$=f(m),y=f(r);return $&&y?m+r:$?m:y?r:null}function q(C){const m=a.teams.map(i=>{const h=i.races.find(T=>T.raceId===C),E=h?.player1Seconds,K=h?.player2Seconds,_=B(h?.player1Kills),G=B(h?.player2Kills),J=B(h?.player1Deaths),H=B(h?.player2Deaths);return{teamId:i.id,teamName:i.teamName,p1Seconds:f(E)?E:null,p2Seconds:f(K)?K:null,teamSeconds:h?se(h):null,p1Kills:_,p2Kills:G,teamKills:_+G,p1Deaths:J,p2Deaths:H,teamDeaths:J+H,rank:null,points:0}}),r=m.filter(i=>i.teamSeconds!=null).map(i=>({...i,teamSeconds:i.teamSeconds}));r.sort((i,h)=>i.teamSeconds-h.teamSeconds);const $=new Map,y=new Map;if(r.forEach((i,h)=>{$.set(i.teamId,h+1),y.set(i.teamId,M.value[h]??0)}),N.value){const i=m.filter(E=>E.teamSeconds==null),h=r.length;i.forEach((E,K)=>$.set(E.teamId,h+K+1))}return m.map(i=>({...i,rank:$.get(i.teamId)??null,points:y.get(i.teamId)??0})).sort((i,h)=>{const E=i.rank??Number.POSITIVE_INFINITY,K=h.rank??Number.POSITIVE_INFINITY;return E!==K?E-K:i.teamName.localeCompare(h.teamName)})}const ie=j(()=>{const C=new Map;for(const r of x.value)C.set(r.raceId,q(r.raceId));return a.teams.map(r=>{const $=x.value.map(T=>{const F=(C.get(T.raceId)??[]).find(I=>I.teamId===r.id);return{raceId:T.raceId,label:T.label,p1Seconds:F?.p1Seconds??null,p2Seconds:F?.p2Seconds??null,teamSeconds:F?.teamSeconds??null,p1Kills:F?.p1Kills??0,p2Kills:F?.p2Kills??0,teamKills:F?.teamKills??0,p1Deaths:F?.p1Deaths??0,p2Deaths:F?.p2Deaths??0,teamDeaths:F?.teamDeaths??0,rank:F?.rank??null,points:F?.points??0}}),y=$.reduce((T,F)=>T+F.points,0),i=$.reduce((T,F)=>T+F.teamKills,0),h=$.reduce((T,F)=>T+F.teamDeaths,0),E=$.reduce((T,F)=>T+F.p1Kills,0),K=$.reduce((T,F)=>T+F.p2Kills,0),_=$.reduce((T,F)=>T+F.p1Deaths,0),G=$.reduce((T,F)=>T+F.p2Deaths,0),J=$.map(T=>T.teamSeconds).filter(T=>T!=null&&isFinite(T)),H=J.length?J.reduce((T,F)=>T+F,0):null;return{teamId:r.id,teamName:r.teamName,player1:r.player1,player2:r.player2,totalPoints:y,totalTeamSeconds:H,totalTeamKills:i,totalTeamDeaths:h,totalP1Kills:E,totalP2Kills:K,totalP1Deaths:_,totalP2Deaths:G,raceBreakdown:$}}).sort((r,$)=>{if($.totalPoints!==r.totalPoints)return $.totalPoints-r.totalPoints;const y=r.raceBreakdown.reduce((h,E)=>h+(E.rank??9999),0)/Math.max(1,r.raceBreakdown.length),i=$.raceBreakdown.reduce((h,E)=>h+(E.rank??9999),0)/Math.max(1,$.raceBreakdown.length);return y!==i?y-i:r.teamName.localeCompare($.teamName)})}),le=j(()=>k.value?q(k.value):[]);return(C,m)=>(l(),n("div",bt,[e("header",kt,[e("div",wt,[e("h2",null,p(z.value),1),m[1]||(m[1]=e("p",{class:"lb-sub"}," Per race: team time = P1 + P2. Points awarded by finish. Combined shows totals for points, kills, and deaths. ",-1))]),e("div",_t,[e("button",{class:ue(["chip",{active:d.value.kind==="combined"}]),onClick:m[0]||(m[0]=r=>d.value={kind:"combined"})}," Combined ",2),(l(!0),n(V,null,ae(x.value,r=>(l(),n("button",{key:r.raceId,class:ue(["chip",{active:d.value.kind==="race"&&d.value.raceId===r.raceId}]),onClick:$=>d.value={kind:"race",raceId:r.raceId}},p(r.label),11,$t))),128))])]),e("div",St,[e("table",Ct,[e("thead",null,[e("tr",null,[m[10]||(m[10]=e("th",{class:"col-rank"},"#",-1)),m[11]||(m[11]=e("th",{class:"col-team"},"Team",-1)),m[12]||(m[12]=e("th",{class:"col-players"},"Players",-1)),d.value.kind==="combined"?(l(),n(V,{key:0},[m[2]||(m[2]=e("th",{class:"col-points"},"Points",-1)),m[3]||(m[3]=e("th",{class:"col-stat"},"Team Checks",-1)),m[4]||(m[4]=e("th",{class:"col-stat"},"Team Deaths",-1)),m[5]||(m[5]=e("th",{class:"col-time"},"Total Time",-1))],64)):(l(),n(V,{key:1},[m[6]||(m[6]=e("th",{class:"col-time"},"Team Time",-1)),m[7]||(m[7]=e("th",{class:"col-points"},"Points",-1)),m[8]||(m[8]=e("th",{class:"col-stat"},"Team Checks",-1)),m[9]||(m[9]=e("th",{class:"col-stat"},"Team Deaths",-1))],64)),m[13]||(m[13]=e("th",{class:"col-actions"},null,-1))])]),d.value.kind==="combined"?(l(),n("tbody",Tt,[(l(!0),n(V,null,ae(ie.value,(r,$)=>(l(),n(V,{key:r.teamId},[e("tr",{class:ue(["row",{expanded:b.value===r.teamId}])},[e("td",xt,p($+1),1),e("td",It,[e("div",Pt,p(r.teamName),1)]),e("td",Dt,[e("div",Nt,[e("div",Mt,[e("span",Et,p(r.player1.name),1),W(r.player1.twitch)?(l(),n("a",{key:0,class:"twitch",href:W(r.player1.twitch),target:"_blank",rel:"noopener"}," Twitch ",8,At)):Y("",!0)]),e("div",Rt,[e("span",Lt,p(r.player2.name),1),W(r.player2.twitch)?(l(),n("a",{key:0,class:"twitch",href:W(r.player2.twitch),target:"_blank",rel:"noopener"}," Twitch ",8,Ot)):Y("",!0)])])]),e("td",Bt,[e("span",Kt,p(r.totalPoints),1)]),e("td",Ut,p(r.totalTeamKills),1),e("td",Ft,p(r.totalTeamDeaths),1),e("td",Vt,p(D(r.totalTeamSeconds)),1),e("td",Yt,[e("button",{class:"btn",onClick:y=>L(r.teamId)},p(b.value===r.teamId?"Hide":"Details"),9,zt)])],2),b.value===r.teamId?(l(),n("tr",Wt,[e("td",jt,[e("div",qt,[m[22]||(m[22]=e("div",{class:"details-head"},[e("div",{class:"dh-title"},"Race breakdown"),e("div",{class:"dh-sub"},"Shows per-player and team totals each race.")],-1)),e("div",Xt,[e("table",Gt,[e("thead",null,[e("tr",null,[m[14]||(m[14]=e("th",null,"Race",-1)),e("th",null,p(r.player1.name)+" Time",1),e("th",null,p(r.player1.name)+" Checks",1),e("th",null,p(r.player1.name)+" Deaths",1),e("th",null,p(r.player2.name)+" Time",1),e("th",null,p(r.player2.name)+" Checks",1),e("th",null,p(r.player2.name)+" Deaths",1),m[15]||(m[15]=e("th",null,"Team Time",-1)),m[16]||(m[16]=e("th",null,"Team Checks",-1)),m[17]||(m[17]=e("th",null,"Team Deaths",-1)),m[18]||(m[18]=e("th",null,"Rank",-1)),m[19]||(m[19]=e("th",null,"Pts",-1))])]),e("tbody",null,[(l(!0),n(V,null,ae(r.raceBreakdown,y=>(l(),n("tr",{key:y.raceId},[e("td",null,p(y.label),1),e("td",null,p(D(y.p1Seconds)),1),e("td",null,p(y.p1Kills),1),e("td",null,p(y.p1Deaths),1),e("td",null,p(D(y.p2Seconds)),1),e("td",null,p(y.p2Kills),1),e("td",null,p(y.p2Deaths),1),e("td",null,[e("b",null,p(D(y.teamSeconds)),1)]),e("td",null,[e("b",null,p(y.teamKills),1)]),e("td",null,[e("b",null,p(y.teamDeaths),1)]),e("td",null,p(y.rank??"â€”"),1),e("td",null,[e("b",null,p(y.points),1)])]))),128))])])]),e("div",Ht,[m[21]||(m[21]=e("div",{class:"leg-item"},[e("span",{class:"dot"}),e("span",null,"Missing/DNF times score 0 points")],-1)),e("div",Jt,[m[20]||(m[20]=e("span",{class:"dot"},null,-1)),e("span",null,"Points table: "+p(M.value.join(", ")),1)])])])])])):Y("",!0)],64))),128))])):(l(),n("tbody",Zt,[(l(!0),n(V,null,ae(le.value,r=>(l(),n("tr",{key:r.teamId,class:"row"},[e("td",Qt,p(r.rank??"â€”"),1),e("td",ea,[e("div",ta,p(r.teamName),1)]),e("td",aa,[O.value.get(r.teamId)?(l(),n("div",sa,[e("div",na,[e("span",la,p(O.value.get(r.teamId).player1.name),1),W(O.value.get(r.teamId).player1.twitch)?(l(),n("a",{key:0,class:"twitch",href:W(O.value.get(r.teamId).player1.twitch),target:"_blank",rel:"noopener"}," Twitch ",8,oa)):Y("",!0)]),e("div",ia,[e("span",ra,p(O.value.get(r.teamId).player2.name),1),W(O.value.get(r.teamId).player2.twitch)?(l(),n("a",{key:0,class:"twitch",href:W(O.value.get(r.teamId).player2.twitch),target:"_blank",rel:"noopener"}," Twitch ",8,da)):Y("",!0)])])):(l(),n("div",ua,m[23]||(m[23]=[e("div",{class:"player"},[e("span",{class:"pname"},"â€”")],-1),e("div",{class:"player"},[e("span",{class:"pname"},"â€”")],-1)])))]),e("td",ca,[e("b",null,p(D(r.teamSeconds)),1)]),e("td",va,[e("span",ma,p(r.points),1)]),e("td",pa,p(r.teamKills),1),e("td",ha,p(r.teamDeaths),1),m[24]||(m[24]=e("td",{class:"cell-actions"},null,-1))]))),128))]))])])]))}}),Qe=we(fa,[["__scopeId","data-v-83b22ba8"]]),ya={class:"rules-page"},ga={class:"layout"},ba={class:"side"},ka={class:"nav-card"},wa=["onClick"],_a={class:"nav-text"},$a={class:"content"},Sa=["id"],Ca={class:"card-head"},Ta={class:"card-titles"},xa={class:"card-title"},Ia={key:0,class:"card-note"},Pa={key:0,class:"card-body"},Da={class:"bullets"},Na={key:1,class:"subsections"},Ma={class:"sub-title"},Ea={class:"bullets"},Aa=ke({__name:"Rules",setup(o){const a=[{id:"intro",title:"Introduction",items:["Welcome Rando Racers! We are Pleased to Announce an event that may make Ringus seem competitive: ABSOLOOT CHAOS","ABSOLOOT CHAOS is a 2v2 DLC Rando Event which will take place over the following 4 weeks.","Each Week, teams will be asked to do 2 seed by the given deadline and submit to see who lands on top","However, these 8 Seeds are not just any rando seeds, as each see will have a unique twist for you and your teammate to maneuver through.","Some Seeds the twist will be said in the description of a seeds release.","While Other seeds will have you and your teammate routing on the fly to newly given circumstances","The Goal is to enjoy the Chaos and have some fun"]},{id:"general",title:"General Rules",items:["These are the general rules for this event and are intended to align all players on how 2v2 DLC Randomizer is played.","Always review any seed-specific changes provided for your match. If no special rules are listed for a seed, default to the rules below.","The Goal is to kill the PCR Replacement, you can quit out once you've seen the `ENEMY FELLED` equivalent"]},{id:"submissions",title:"Submissions & Deadlines",items:["Teams must submit their times on both seeds before the set deadline listed that week."]},{id:"starting-conditions",title:"Starting Conditions",items:["Enough runes to reach Level 60","Crimson and Cerulean Flasks at +12","All Whetblades","All Talisman Pouches","All Crafting Recipes unlocked (if you have the materials, you can craft the item)","All Upgrade Bell Bearings (Smithing and Somber Stones available from Twin Maiden Husks at Roundtable Hold)","Smithing Stone cost reduced: 1 stone per upgrade or 3 stones per tier","All Spell Shops are fully randomized (any vendor, including Ymir, may sell powerful or key items)","Torrent is not scared in Abyssal Woods and can be used to reach Midra"]},{id:"progression",title:"DLC Progression & Key Items",items:["Teams will have to find the required Amount of Unique Messmer's Kindling Shards per seed. This should be in the description of the seed.","Each individual player will need a minimum amount of Messmer's Kindling Shards to get into Enir-Ilim. This should be in the description of the seed","Scadutree Fragments and Golden Seeds can only be obtained from Key Item checks.","Key Item checks include: 4 Overworld Checks and 31 Boss Checks (excluding Consort).","Revered Spirit Ashes are not randomized and remain in their vanilla locations."],subsections:[{title:"Overworld Key Item Checks (4)",items:["Oâ€™ Mother Emote â€” Bonny Village","Hole-Laden Necklace â€” obtained by speaking to Ymir","Ensis Imbued Sword Key â€” Castle Ensis","Belurat Sewer Key â€” Belurat"]},{title:"Boss Key Item Checks (31) Not Including PCR",items:["Solitary Knight - Western Nameless Mausoleum","Ghostflame Dragon - Gravesite Plains","Divine Beast Dancing Lion - Belurat","Ancient Dragon Man","Rellana","Ralva, The Great Red Bear","Golden Hippo","Scadutree Avatar","Messmer the Impaler","Commander Gauis","Black Knight Edredd - Fort of Reprimand","Ghostflame Dragon - Outside Reprimand","Black Knight Garrew - Inside Fog Rift Fort","Red Bear NPC - Northern Nameless Mausoleum","Rugalea in Rauh Base","Tree Sentinel 1 - Hinterlands","Tree Sentinel 2 - Hinterlands","Fallingstar Beast - Hinterlands","Ghostflame Dragon w/ Adds - Cerulean Coast","Dancer - Southern Nameless Mausoleum","Putrescent Knight","Death Rite Bird - Charos Hidden Grave","Jagged Peak Drake 1","Dueling Drakes","Ancient Dragon Senessax","Bayle the Dread","Rakshasa - Eastern Nameless Mausoleum","Jori, Elder Inquisitor","Midra, Lord of Frenzy Flame","Deathblight Dancing Lion","Romina, Saint of the Bud"]}]},{id:"seed-setup",title:"Seed Setup & Tools",items:["Extract the Randomizer seed files anywhere on your desktop.","Launch the seed using launchmod_rando.bat.","All seeds include a custom overlay (designed by Psiphicode) that displays boss checks and indicates which checks may contain Messmer Kindling Shards.","LiveSplit is allowed."]},{id:"team-restrictions",title:"Team Restrictions",items:["One Player on a Team must kill the Messmer Replacement before ending the race.","You Must have all Unique Shards Required before Entering and killing the PCR Replacement","Both players on a team must start with different starting classes.","Both players must use different primary weapons for the race."],subsections:[{title:"What is a Primary Weapon?",items:["A Primary Weapon is a weapon that has been used to kill a boss."]}]},{id:"quitouts",title:"Quit-Out Rules",items:["Quit-outs are allowed under normal circumstances.","A Player is allowed quit-outs indefinetely if there is only one remaining check left.","If a player quits out for more than 15 seconds while more than one check remains, their teammate must also quit out."],subsections:[{title:"Exception",items:["If the teammate is currently in a boss fight, they may finish the fight.","They must quit out immediately afterward if the original player is still quit out."]}]},{id:"skips",title:"Skips & Movement Rules",items:["Front-to-Back Skip is allowed."],subsections:[{title:"Stake Skips",items:["No intentional stake skips are allowed.","If you fail the jump down to Messmer or to Belurat from Enir-Ilim, taking the stake is allowed as long as a legitimate first attempt was clearly made."]}]}],d=S(a[0]?.id??"general");function b(N){const x=document.getElementById(N);x&&x.scrollIntoView({behavior:"smooth",block:"start"})}const L=j(()=>a.map(N=>N.id));function M(){let x=d.value,k=-1/0;for(const z of L.value){const O=document.getElementById(z);if(!O)continue;const D=O.getBoundingClientRect().top-120;D<=0&&D>k&&(k=D,x=z)}d.value=x}return Ie(()=>{window.addEventListener("scroll",M,{passive:!0}),M()}),be(()=>{window.removeEventListener("scroll",M)}),(N,x)=>(l(),n("div",ya,[x[2]||(x[2]=Te('<header class="hero" data-v-63c87e0b><div class="gridlines" aria-hidden="true" data-v-63c87e0b></div><div class="speed-sweep" aria-hidden="true" data-v-63c87e0b></div><div class="hero-inner" data-v-63c87e0b><div class="badge" data-v-63c87e0b>Absoloot Chaos</div><h1 class="title" data-v-63c87e0b>Event Rules</h1><p class="subtitle" data-v-63c87e0b> Seed-specific notes override these rules. If no seed notes are provided, follow this page. </p></div></header>',1)),e("div",ga,[e("aside",ba,[e("div",ka,[x[0]||(x[0]=e("div",{class:"nav-title"},"Contents",-1)),(l(),n(V,null,ae(a,k=>e("button",{key:k.id,class:ue(["nav-link",{active:d.value===k.id}]),onClick:z=>b(k.id),type:"button"},[e("span",_a,p(k.title),1)],10,wa)),64)),x[1]||(x[1]=e("div",{class:"nav-foot"},[e("div",{class:"tiny"},[de(" Tip: Use "),e("kbd",null,"Ctrl"),de(" + "),e("kbd",null,"F"),de(" to quickly find a rule. ")])],-1))])]),e("main",$a,[(l(),n(V,null,ae(a,k=>e("section",{key:k.id,class:"card",id:k.id},[e("header",Ca,[e("div",Ta,[e("h2",xa,p(k.title),1),k.note?(l(),n("p",Ia,p(k.note),1)):Y("",!0)])]),k.items?.length?(l(),n("div",Pa,[e("ul",Da,[(l(!0),n(V,null,ae(k.items,(z,O)=>(l(),n("li",{key:O},p(z),1))),128))])])):Y("",!0),k.subsections?.length?(l(),n("div",Na,[(l(!0),n(V,null,ae(k.subsections,(z,O)=>(l(),n("div",{key:O,class:"subcard"},[e("h3",Ma,p(z.title),1),e("ul",Ea,[(l(!0),n(V,null,ae(z.items,(W,D)=>(l(),n("li",{key:D},p(W),1))),128))])]))),128))])):Y("",!0)],8,Sa)),64))])])]))}}),Ra=we(Aa,[["__scopeId","data-v-63c87e0b"]]),La={class:"seed-wrap"},Oa={class:"seed-header"},Ba={class:"seed-controls"},Ka=["onClick"],Ua={key:0,class:"panel"},Fa={key:1},Va={class:"panel week-head"},Ya={class:"week-left"},za={class:"seed-meta"},Wa={class:"seed-grid"},ja={class:"seed-card-top"},qa={class:"seed-card-title"},Xa={class:"badges"},Ga={class:"panel"},Ha={class:"status-grid"},Ja={class:"status-item"},Za={class:"status-value"},Qa={class:"status-sub"},es={class:"status-item"},ts={class:"status-value"},as={class:"panel"},ss={key:0,class:"desc"},ns={key:1,class:"locked"},ls={class:"hint",style:{display:"block","margin-top":"6px"}},os={class:"panel actions-row"},is={class:"action-col"},rs=["href"],ds={class:"hint"},us={class:"action-col"},cs=["onClick"],vs={class:"hint"},ms={class:"modal"},ps={class:"modal-head"},hs={key:0,class:"modal-sub"},fs={key:0,class:"status error"},ys={key:1,class:"status ok"},gs={class:"form-grid"},bs={class:"field full"},ks={class:"field"},ws={class:"field"},_s={class:"field"},$s={class:"field"},Ss={class:"field"},Cs={class:"field"},Ts={class:"field"},xs={class:"field"},Is={class:"modal-actions"},Ps=["disabled"],Ds={key:0},Ns={key:1},Ms="https://script.google.com/macros/s/AKfycbyJK333jg0bfKs67jGiRw4r-gxjj5ElrIO-tygb8YYoX0gYbxyosAHt8qoFafZYWVM/exec",Es=ke({__name:"DownloadSeeds",setup(o){const a=S(null),d=S("all"),b=S(new Date);let L=null;Ie(async()=>{const I=await fetch("/data/releases.json",{cache:"no-store"});a.value=await I.json(),a.value&&(d.value=f(a.value)),L=window.setInterval(()=>{b.value=new Date},1e3)}),be(()=>{L&&window.clearInterval(L)});function M(I){const t=new Date(I);return Number.isNaN(t.getTime())?new Date(0):t}function N(I,t){return I===!0?!0:I===!1?!1:b.value.getTime()>=M(t).getTime()}function x(I){const t=M(I);return t.getTime()===0?"Unknown time":t.toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}function k(I){const t=M(I).getTime();return t===0?0:Math.max(0,t-b.value.getTime())}function z(I){if(I<=0)return"00:00:00";const t=Math.floor(I/1e3),v=Math.floor(t/86400),g=Math.floor(t%86400/3600),R=Math.floor(t%3600/60),w=t%60,U=String(g).padStart(2,"0"),P=String(R).padStart(2,"0"),ne=String(w).padStart(2,"0");return v>0?`${v}d ${U}:${P}:${ne}`:`${U}:${P}:${ne}`}function O(I){const t=M(I).getTime();return t===0?!1:b.value.getTime()>=t}const W=j(()=>a.value?d.value==="all"?a.value.weeks:a.value.weeks.filter(I=>I.week===d.value):[]);function D(I){d.value=I}function f(I){const t=[...I.weeks||[]].sort((g,R)=>R.week-g.week),v=t.find(g=>g.seeds?.some(R=>N(R.releases.forceDownload,R.releases.downloadAt)));return v?v.week:t[0]?.week??"all"}function B(I){const t=N(I.releases.forceDownload,I.releases.downloadAt),v=!O(I.deadlineAt);return t&&v}const se=S(!1),q=S(null),ie=S(""),le=S(""),C=S(""),m=S(null),r=S(null),$=S(""),y=S(""),i=S(null),h=S(null),E=S(!1),K=S(""),_=S("");function G(I,t){q.value={week:I,seed:t},se.value=!0,K.value="",_.value=""}function J(){se.value=!1,q.value=null,K.value="",_.value="",E.value=!1,ie.value="",le.value="",C.value="",m.value=null,r.value=null,$.value="",y.value="",i.value=null,h.value=null}function H(I){if(I==null||I==="")return null;const t=Number(I);return Number.isFinite(t)?Math.max(0,Math.floor(t)):null}const T=j(()=>!q.value||!B(q.value.seed)?!1:ie.value.trim().length>0&&le.value.trim().length>0&&C.value.trim().length>0&&H(m.value)!==null&&H(r.value)!==null&&$.value.trim().length>0&&y.value.trim().length>0&&H(i.value)!==null&&H(h.value)!==null&&!E.value);async function F(){if(K.value="",_.value="",!q.value){K.value="No seed selected.";return}if(!T.value){K.value="Please fill all fields.";return}E.value=!0;try{const I={week:q.value.week,seedId:q.value.seed.id,seedTitle:q.value.seed.title,teamName:ie.value.trim(),p1Name:le.value.trim(),p1Time:C.value.trim(),p1Kills:H(m.value),p1Deaths:H(r.value),p2Name:$.value.trim(),p2Time:y.value.trim(),p2Kills:H(i.value),p2Deaths:H(h.value)},v=await(await fetch(Ms,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(I)})).json();if(!v?.ok)throw new Error(v?.error||"Submission failed");_.value="âœ… Submitted! Thanks."}catch(I){K.value=`âŒ ${I?.message||"Submission failed"}`}finally{E.value=!1}}return(I,t)=>(l(),n("div",La,[e("header",Oa,[t[10]||(t[10]=e("div",{class:"seed-title"},[e("h2",null,"Seed Releases"),e("p",{class:"seed-sub"}," Rules unlock first. Download unlocks later. Submit runs directly on the site once download is available. ")],-1)),e("div",Ba,[(l(!0),n(V,null,ae(a.value?.weeks||[],v=>(l(),n("button",{key:v.week,class:ue(["chip",{active:d.value===v.week}]),onClick:g=>D(v.week)}," Week "+p(v.week),11,Ka))),128)),e("button",{class:ue(["chip",{active:d.value==="all"}]),onClick:t[0]||(t[0]=v=>D("all"))}," All Weeks ",2)])]),a.value?(l(),n("div",Fa,[(l(!0),n(V,null,ae(W.value,v=>(l(),n("section",{key:v.week,style:{"margin-top":"16px"}},[e("div",Va,[e("div",Ya,[t[11]||(t[11]=e("span",{class:"dot"},null,-1)),e("strong",null,"Week "+p(v.week),1)]),e("span",za,p(v.seeds.length)+" seeds",1)]),e("div",Wa,[(l(!0),n(V,null,ae(v.seeds,g=>(l(),n("article",{key:g.id,class:"seed-card"},[e("div",ja,[e("div",null,[e("h4",qa,p(g.title),1)]),e("div",Xa,[e("span",{class:ue(["badge",{on:N(g.releases.forceDescription,g.releases.descriptionAt)}])}," Description ",2),e("span",{class:ue(["badge",{on:N(g.releases.forceDownload,g.releases.downloadAt)}])}," Download ",2)])]),e("div",Ga,[e("div",Ha,[e("div",Ja,[t[12]||(t[12]=e("div",{class:"status-label"},"Download Unlock",-1)),e("div",Za,[e("strong",null,p(x(g.releases.downloadAt)),1)]),e("div",Qa,[N(g.releases.forceDownload,g.releases.downloadAt)?(l(),n(V,{key:0},[de(" âœ… Download available ")],64)):(l(),n(V,{key:1},[de(" â³ "+p(z(k(g.releases.downloadAt)))+" remaining ",1)],64))])]),e("div",es,[t[13]||(t[13]=e("div",{class:"status-label"},"Seed Deadline",-1)),e("div",ts,[e("strong",null,p(x(g.deadlineAt)),1)]),e("div",{class:ue(["status-sub",{danger:O(g.deadlineAt)}])},[O(g.deadlineAt)?(l(),n(V,{key:0},[de("â›” Deadline passed")],64)):(l(),n(V,{key:1},[de("â³ "+p(z(k(g.deadlineAt)))+" remaining",1)],64))],2)])])]),e("div",as,[N(g.releases.forceDescription,g.releases.descriptionAt)?(l(),n("div",ss,p(g.descriptionText),1)):(l(),n("p",ns,[t[14]||(t[14]=de(" Description unlocked at ",-1)),e("strong",null,p(x(g.releases.descriptionAt)),1),e("span",ls," â³ "+p(z(k(g.releases.descriptionAt)))+" remaining ",1)]))]),e("div",os,[e("div",is,[N(g.releases.forceDownload,g.releases.downloadAt)?(l(),n("a",{key:0,class:"btn",href:g.download.url,target:"_blank",rel:"noopener noreferrer"}," â¬‡ï¸ "+p(g.download.label),9,rs)):(l(),n(V,{key:1},[t[15]||(t[15]=e("button",{class:"btn disabled",disabled:""},"â¬‡ï¸ Download locked",-1)),e("p",ds,"Unlocks in "+p(z(k(g.releases.downloadAt))),1)],64))]),e("div",us,[B(g)?(l(),n("button",{key:0,class:"btn submit",onClick:R=>G(v.week,g)}," ðŸ“ Submit Run ",8,cs)):(l(),n(V,{key:1},[t[16]||(t[16]=e("button",{class:"btn disabled",disabled:""},"ðŸ“ Submit locked",-1)),e("p",vs,[O(g.deadlineAt)?(l(),n(V,{key:0},[de("Deadline passed.")],64)):(l(),n(V,{key:1},[de("Unlocks when download is released.")],64))])],64))])])]))),128))])]))),128))])):(l(),n("div",Ua," Loading seed releasesâ€¦ ")),se.value?(l(),n("div",{key:2,class:"modal-backdrop",onClick:Fe(J,["self"])},[e("div",ms,[e("div",ps,[e("div",null,[t[17]||(t[17]=e("div",{class:"modal-title"},"Submit Run",-1)),q.value?(l(),n("div",hs," Week "+p(q.value.week)+" â€¢ "+p(q.value.seed.title),1)):Y("",!0)]),e("button",{class:"x",onClick:J},"âœ•")]),K.value?(l(),n("div",fs,p(K.value),1)):Y("",!0),_.value?(l(),n("div",ys,p(_.value),1)):Y("",!0),e("div",gs,[e("div",bs,[t[18]||(t[18]=e("label",null,"Team Name *",-1)),Q(e("input",{"onUpdate:modelValue":t[1]||(t[1]=v=>ie.value=v),placeholder:"Example: The Crimson Chin"},null,512),[[re,ie.value]])]),e("div",ks,[t[19]||(t[19]=e("label",null,"Player 1 Name *",-1)),Q(e("input",{"onUpdate:modelValue":t[2]||(t[2]=v=>le.value=v),placeholder:"Player 1"},null,512),[[re,le.value]])]),e("div",ws,[t[20]||(t[20]=e("label",null,"Player 1 Time *",-1)),Q(e("input",{"onUpdate:modelValue":t[3]||(t[3]=v=>C.value=v),placeholder:"hh:mm:ss or mm:ss"},null,512),[[re,C.value]])]),e("div",_s,[t[21]||(t[21]=e("label",null,"P1 Checks *",-1)),Q(e("input",{"onUpdate:modelValue":t[4]||(t[4]=v=>m.value=v),type:"number",min:"0",placeholder:"0"},null,512),[[re,m.value,void 0,{number:!0}]])]),e("div",$s,[t[22]||(t[22]=e("label",null,"P1 Deaths *",-1)),Q(e("input",{"onUpdate:modelValue":t[5]||(t[5]=v=>r.value=v),type:"number",min:"0",placeholder:"0"},null,512),[[re,r.value,void 0,{number:!0}]])]),e("div",Ss,[t[23]||(t[23]=e("label",null,"Player 2 Name *",-1)),Q(e("input",{"onUpdate:modelValue":t[6]||(t[6]=v=>$.value=v),placeholder:"Player 2"},null,512),[[re,$.value]])]),e("div",Cs,[t[24]||(t[24]=e("label",null,"Player 2 Time *",-1)),Q(e("input",{"onUpdate:modelValue":t[7]||(t[7]=v=>y.value=v),placeholder:"hh:mm:ss or mm:ss"},null,512),[[re,y.value]])]),e("div",Ts,[t[25]||(t[25]=e("label",null,"P2 Checks *",-1)),Q(e("input",{"onUpdate:modelValue":t[8]||(t[8]=v=>i.value=v),type:"number",min:"0",placeholder:"0"},null,512),[[re,i.value,void 0,{number:!0}]])]),e("div",xs,[t[26]||(t[26]=e("label",null,"P2 Deaths *",-1)),Q(e("input",{"onUpdate:modelValue":t[9]||(t[9]=v=>h.value=v),type:"number",min:"0",placeholder:"0"},null,512),[[re,h.value,void 0,{number:!0}]])])]),e("div",Is,[e("button",{class:"btn2 ghost",onClick:J},"Cancel"),e("button",{class:"btn2 primary",disabled:!T.value,onClick:F},[E.value?(l(),n("span",Ns,"Submittingâ€¦")):(l(),n("span",Ds,"Submit"))],8,Ps)])])])):Y("",!0)]))}}),et=we(Es,[["__scopeId","data-v-4ed902dc"]]),As={class:"wrap"},Rs={class:"signup-card"},Ls={class:"left"},Os={class:"grid"},Bs={class:"field"},Ks={class:"field"},Us={class:"field"},Fs={class:"field"},Vs={class:"field full"},Ys={key:0,class:"status error"},zs={key:1,class:"status ok"},Ws={class:"right"},js=["disabled"],qs={key:0},Xs={key:1},Gs={class:"teams-card"},Hs={class:"teams-head"},Js={key:0,class:"mh-sub"},Zs={key:1,class:"mh-sub"},Qs={key:0,class:"empty"},en={key:1,class:"teams-scroll"},tn={class:"team-main"},an={class:"team-text"},sn={key:0,class:"ts"},nn={class:"team-links"},ln=["href"],on=["href"],tt="https://script.google.com/macros/s/AKfycbx5dLXFc2BYN6wmkl31qZvWDwcJLNqOiu82JwVJfW2YyqutX0VosVZPvkxIvCr1ysES/exec",rn=ke({__name:"SignUps",setup(o){const a=S(""),d=S(""),b=S(""),L=S(""),M=S(""),N=S(!1),x=S(""),k=S(""),z=S([]),O=S(!0);let W=null;function D(y){const i=(y||"").trim();if(!i)return"";const h=/^https?:\/\//i.test(i)?i:`https://${i}`;try{const E=new URL(h);if(E.hostname.toLowerCase().replace(/^www\./,"")!=="twitch.tv")return h;let _=E.pathname||"/";_=_.replace(/^\/+/,"/"),_=_.replace(/^\/(www\.)?twitch\.tv\//i,"/");const G=_.split("/").filter(Boolean)[0]||"";return G?`https://twitch.tv/${G}`:"https://twitch.tv"}catch{return i}}function f(y){const i=(y||"").trim();if(!i)return"";try{const h=new URL(/^https?:\/\//i.test(i)?i:`https://${i}`);if(h.hostname.toLowerCase().replace(/^www\./,"")!=="twitch.tv")return i;const K=h.pathname.split("/").filter(Boolean)[0];return K?`@${K}`:i}catch{return i}}function B(y){return String(y??"").trim().replace(/\s+/g," ")}function se(y){return B(y).toLowerCase()}function q(y){if(!y)return 0;const h=new Date(y).getTime();return Number.isNaN(h)?0:h}function ie(y){const i=se(y.playerName),h=se(y.teammateName),E=[i,h].sort().join("|");return`${se(y.teamName)}::${E}`}function le(y){const i=B(y.playerName)||"Player 1",h=B(y.teammateName)||"Player 2",E=B(y.teamName)||"TEAM";return`${i} & ${h} as "${E}"`}const C=j(()=>B(a.value).length>0&&B(b.value).length>0&&B(M.value).length>0&&!N.value);async function m(){try{O.value=!0;const i=await(await fetch(tt,{method:"GET",cache:"no-store"})).json();if(!i?.ok)throw new Error(i?.error||"Failed to load teams");z.value=i.teams||[]}catch(y){console.error(y)}finally{O.value=!1}}async function r(){if(x.value="",k.value="",!C.value){x.value="Please fill Player Name, Teammate Name, and Team Name.";return}N.value=!0;try{const y={playerName:B(a.value),playerTwitch:D(d.value),teammateName:B(b.value),teammateTwitch:D(L.value),teamName:B(M.value)},h=await(await fetch(tt,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(y)})).json();if(!h?.ok)throw new Error(h?.error||"Submission failed");k.value="âœ… Signed up! Your team should appear below shortly.",a.value="",d.value="",b.value="",L.value="",M.value="",await m()}catch(y){x.value=`âŒ ${y?.message||"Submission failed"}`}finally{N.value=!1}}const $=j(()=>{const y=new Map;for(const i of z.value){const h=B(i.playerName),E=B(i.teammateName),K=B(i.teamName);if(!h||!E||!K)continue;const _=ie({...i,playerName:h,teammateName:E,teamName:K}),G=y.get(_);if(!G)y.set(_,i);else{const J=q(G.timestamp);q(i.timestamp)>=J&&y.set(_,i)}}return Array.from(y.values()).sort((i,h)=>q(h.timestamp)-q(i.timestamp))});return Ie(async()=>{await m(),W=window.setInterval(m,15e3)}),be(()=>{W&&window.clearInterval(W)}),(y,i)=>(l(),n("div",As,[e("div",Rs,[e("div",Ls,[i[10]||(i[10]=e("h2",{class:"title"},"Team Sign Up",-1)),i[11]||(i[11]=e("p",{class:"sub"},"Enter your duo info",-1)),e("div",Os,[e("div",Bs,[i[5]||(i[5]=e("label",null,"Player Name *",-1)),Q(e("input",{"onUpdate:modelValue":i[0]||(i[0]=h=>a.value=h),placeholder:"Player 1"},null,512),[[re,a.value]])]),e("div",Ks,[i[6]||(i[6]=e("label",null,"Player Twitch",-1)),Q(e("input",{"onUpdate:modelValue":i[1]||(i[1]=h=>d.value=h),placeholder:"Paste your Twitch URL (https://twitch.tv/yourname)"},null,512),[[re,d.value]])]),e("div",Us,[i[7]||(i[7]=e("label",null,"Teammate Name *",-1)),Q(e("input",{"onUpdate:modelValue":i[2]||(i[2]=h=>b.value=h),placeholder:"Player 2"},null,512),[[re,b.value]])]),e("div",Fs,[i[8]||(i[8]=e("label",null,"Teammate Twitch",-1)),Q(e("input",{"onUpdate:modelValue":i[3]||(i[3]=h=>L.value=h),placeholder:"Paste teammate Twitch URL"},null,512),[[re,L.value]])]),e("div",Vs,[i[9]||(i[9]=e("label",null,"Team Name *",-1)),Q(e("input",{"onUpdate:modelValue":i[4]||(i[4]=h=>M.value=h),placeholder:"Example: The Crimson Chin"},null,512),[[re,M.value]])])]),x.value?(l(),n("p",Ys,p(x.value),1)):Y("",!0),k.value?(l(),n("p",zs,p(k.value),1)):Y("",!0)]),e("div",Ws,[e("button",{class:ue(["btn",{loading:N.value}]),disabled:!C.value,onClick:r},[N.value?(l(),n("span",Xs,"Signing upâ€¦")):(l(),n("span",qs,"Sign Up"))],10,js),i[12]||(i[12]=e("p",{class:"hint"},"Required: Player Name, Teammate Name, Team Name",-1))])]),e("div",Gs,[e("div",Hs,[i[14]||(i[14]=e("div",{class:"dot"},null,-1)),e("div",null,[i[13]||(i[13]=e("div",{class:"mh-title"},"Signed Up Teams",-1)),O.value?(l(),n("div",Js,"Loadingâ€¦")):(l(),n("div",Zs,p($.value.length)+" teams",1))])]),$.value.length===0&&!O.value?(l(),n("div",Qs," No teams yet â€” be the first ðŸ‘€ ")):(l(),n("div",en,[(l(!0),n(V,null,ae($.value,(h,E)=>(l(),n("div",{class:"team-row",key:ie(h)+":"+E},[e("div",tn,[e("span",an,p(le(h)),1),h.timestamp?(l(),n("span",sn,"("+p(new Date(h.timestamp).toLocaleString())+")",1)):Y("",!0)]),e("div",nn,[h.playerTwitch?(l(),n("a",{key:0,class:"pill-link",href:D(h.playerTwitch),target:"_blank",rel:"noopener noreferrer"}," Player 1: "+p(f(D(h.playerTwitch))),9,ln)):Y("",!0),h.teammateTwitch?(l(),n("a",{key:1,class:"pill-link",href:D(h.teammateTwitch),target:"_blank",rel:"noopener noreferrer"}," Player 2: "+p(f(D(h.teammateTwitch))),9,on)):Y("",!0)])]))),128))]))])]))}}),dn=we(rn,[["__scopeId","data-v-5f21764b"]]);var te=function(){return te=Object.assign||function(a){for(var d,b=1,L=arguments.length;b<L;b++){d=arguments[b];for(var M in d)Object.prototype.hasOwnProperty.call(d,M)&&(a[M]=d[M])}return a},te.apply(this,arguments)};typeof window<"u"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(a,d){d=d||{bubbles:!1,cancelable:!1,detail:null};var b=document.createEvent("CustomEvent");return b.initCustomEvent(a,d.bubbles,d.cancelable,d.detail),b}));var un=typeof document<"u"&&!!document.documentMode,Re;function cn(){return Re||(Re=document.createElement("div").style)}var at=["webkit","moz","ms"],De={};function Ye(o){if(De[o])return De[o];var a=cn();if(o in a)return De[o]=o;for(var d=o[0].toUpperCase()+o.slice(1),b=at.length;b--;){var L="".concat(at[b]).concat(d);if(L in a)return De[o]=L}}function Ne(o,a){return parseFloat(a[Ye(o)])||0}function Me(o,a,d){d===void 0&&(d=window.getComputedStyle(o));var b=a==="border"?"Width":"";return{left:Ne("".concat(a,"Left").concat(b),d),right:Ne("".concat(a,"Right").concat(b),d),top:Ne("".concat(a,"Top").concat(b),d),bottom:Ne("".concat(a,"Bottom").concat(b),d)}}function ge(o,a,d){o.style[Ye(a)]=d}function vn(o,a){var d=Ye("transform");ge(o,"transition","".concat(d," ").concat(a.duration,"ms ").concat(a.easing))}function mn(o,a,d){var b=a.x,L=a.y,M=a.scale,N=a.isSVG;if(ge(o,"transform","scale(".concat(M,") translate(").concat(b,"px, ").concat(L,"px)")),N&&un){var x=window.getComputedStyle(o).getPropertyValue("transform");o.setAttribute("transform",x)}}function Le(o){var a=o.parentNode,d=window.getComputedStyle(o),b=window.getComputedStyle(a),L=o.getBoundingClientRect(),M=a.getBoundingClientRect();return{elem:{style:d,width:L.width,height:L.height,top:L.top,bottom:L.bottom,left:L.left,right:L.right,margin:Me(o,"margin",d),border:Me(o,"border",d)},parent:{style:b,width:M.width,height:M.height,top:M.top,bottom:M.bottom,left:M.left,right:M.right,padding:Me(a,"padding",b),border:Me(a,"border",b)}}}var xe={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window<"u"&&(typeof window.PointerEvent=="function"?xe={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(xe={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function Oe(o,a,d,b){xe[o].split(" ").forEach(function(L){a.addEventListener(L,d,b)})}function Be(o,a,d){xe[o].split(" ").forEach(function(b){a.removeEventListener(b,d)})}function nt(o,a){for(var d=o.length;d--;)if(o[d].pointerId===a.pointerId)return d;return-1}function Ve(o,a){var d;if(a.touches){d=0;for(var b=0,L=a.touches;b<L.length;b++){var M=L[b];M.pointerId=d++,Ve(o,M)}return}d=nt(o,a),d>-1&&o.splice(d,1),o.push(a)}function pn(o,a){if(a.touches){for(;o.length;)o.pop();return}var d=nt(o,a);d>-1&&o.splice(d,1)}function st(o){o=o.slice(0);for(var a=o.pop(),d;d=o.pop();)a={clientX:(d.clientX-a.clientX)/2+a.clientX,clientY:(d.clientY-a.clientY)/2+a.clientY};return a}function Ke(o){if(o.length<2)return 0;var a=o[0],d=o[1];return Math.sqrt(Math.pow(Math.abs(d.clientX-a.clientX),2)+Math.pow(Math.abs(d.clientY-a.clientY),2))}function hn(o){for(var a=o;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1}function fn(o){return(o.getAttribute("class")||"").trim()}function yn(o,a){return o.nodeType===1&&" ".concat(fn(o)," ").indexOf(" ".concat(a," "))>-1}function gn(o,a){for(var d=o;d!=null;d=d.parentNode)if(yn(d,a.excludeClass)||a.exclude.indexOf(d)>-1)return!0;return!1}var bn=/^http:[\w\.\/]+svg$/;function kn(o){return bn.test(o.namespaceURI)&&o.nodeName.toLowerCase()!=="svg"}function wn(o){var a={};for(var d in o)o.hasOwnProperty(d)&&(a[d]=o[d]);return a}var lt={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(o){o.preventDefault(),o.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:mn,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function ot(o,a){if(!o)throw new Error("Panzoom requires an element as an argument");if(o.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!hn(o))throw new Error("Panzoom should be called on elements that have been attached to the DOM");a=te(te({},lt),a);var d=kn(o),b=o.parentNode;b.style.overflow=a.overflow,b.style.userSelect="none",b.style.touchAction=a.touchAction,(a.canvas?b:o).style.cursor=a.cursor,o.style.userSelect="none",o.style.touchAction=a.touchAction,ge(o,"transformOrigin",typeof a.origin=="string"?a.origin:d?"0 0":"50% 50%");function L(){b.style.overflow="",b.style.userSelect="",b.style.touchAction="",b.style.cursor="",o.style.cursor="",o.style.userSelect="",o.style.touchAction="",ge(o,"transformOrigin","")}function M(t){t===void 0&&(t={});for(var v in t)t.hasOwnProperty(v)&&(a[v]=t[v]);(t.hasOwnProperty("cursor")||t.hasOwnProperty("canvas"))&&(b.style.cursor=o.style.cursor="",(a.canvas?b:o).style.cursor=a.cursor),t.hasOwnProperty("overflow")&&(b.style.overflow=t.overflow),t.hasOwnProperty("touchAction")&&(b.style.touchAction=t.touchAction,o.style.touchAction=t.touchAction)}var N=0,x=0,k=1,z=!1;se(a.startScale,{animate:!1,force:!0}),setTimeout(function(){B(a.startX,a.startY,{animate:!1,force:!0})});function O(t,v,g){if(!g.silent){var R=new CustomEvent(t,{detail:v});o.dispatchEvent(R)}}function W(t,v,g){var R={x:N,y:x,scale:k,isSVG:d,originalEvent:g};return requestAnimationFrame(function(){typeof v.animate=="boolean"&&(v.animate?vn(o,v):ge(o,"transition","none")),v.setTransform(o,R,v),O(t,R,v),O("panzoomchange",R,v)}),R}function D(t,v,g,R){var w=te(te({},a),R),U={x:N,y:x,opts:w};if(!R?.force&&(w.disablePan||w.panOnlyWhenZoomed&&k===w.startScale))return U;if(t=parseFloat(t),v=parseFloat(v),w.disableXAxis||(U.x=(w.relative?N:0)+t),w.disableYAxis||(U.y=(w.relative?x:0)+v),w.contain){var P=Le(o),ne=P.elem.width/k,ee=P.elem.height/k,he=ne*g,fe=ee*g,X=(he-ne)/2,ce=(fe-ee)/2;if(w.contain==="inside"){var ye=(-P.elem.margin.left-P.parent.padding.left+X)/g,_e=(P.parent.width-he-P.parent.padding.left-P.elem.margin.left-P.parent.border.left-P.parent.border.right+X)/g;U.x=Math.max(Math.min(U.x,_e),ye);var $e=(-P.elem.margin.top-P.parent.padding.top+ce)/g,Se=(P.parent.height-fe-P.parent.padding.top-P.elem.margin.top-P.parent.border.top-P.parent.border.bottom+ce)/g;U.y=Math.max(Math.min(U.y,Se),$e)}else if(w.contain==="outside"){var ye=(-(he-P.parent.width)-P.parent.padding.left-P.parent.border.left-P.parent.border.right+X)/g,_e=(X-P.parent.padding.left)/g;U.x=Math.max(Math.min(U.x,_e),ye);var $e=(-(fe-P.parent.height)-P.parent.padding.top-P.parent.border.top-P.parent.border.bottom+ce)/g,Se=(ce-P.parent.padding.top)/g;U.y=Math.max(Math.min(U.y,Se),$e)}}return w.roundPixels&&(U.x=Math.round(U.x),U.y=Math.round(U.y)),U}function f(t,v){var g=te(te({},a),v),R={scale:k,opts:g};if(!v?.force&&g.disableZoom)return R;var w=a.minScale,U=a.maxScale;if(g.contain){var P=Le(o),ne=P.elem.width/k,ee=P.elem.height/k;if(ne>1&&ee>1){var he=P.parent.width-P.parent.border.left-P.parent.border.right,fe=P.parent.height-P.parent.border.top-P.parent.border.bottom,X=he/ne,ce=fe/ee;a.contain==="inside"?U=Math.min(U,X,ce):a.contain==="outside"&&(w=Math.max(w,X,ce))}}return R.scale=Math.min(Math.max(t,w),U),R}function B(t,v,g,R){var w=D(t,v,k,g);return N!==w.x||x!==w.y?(N=w.x,x=w.y,W("panzoompan",w.opts,R)):{x:N,y:x,scale:k,isSVG:d,originalEvent:R}}function se(t,v,g){var R=f(t,v),w=R.opts;if(!(!v?.force&&w.disableZoom)){t=R.scale;var U=N,P=x;if(w.focal){var ne=w.focal;U=(ne.x/t-ne.x/k+N*t)/t,P=(ne.y/t-ne.y/k+x*t)/t}var ee=D(U,P,t,{relative:!1,force:!0});return N=ee.x,x=ee.y,k=t,W("panzoomzoom",w,g)}}function q(t,v){var g=te(te(te({},a),{animate:!0}),v);return se(k*Math.exp((t?1:-1)*g.step),g)}function ie(t){return q(!0,t)}function le(t){return q(!1,t)}function C(t,v,g,R){var w=Le(o),U={width:w.parent.width-w.parent.padding.left-w.parent.padding.right-w.parent.border.left-w.parent.border.right,height:w.parent.height-w.parent.padding.top-w.parent.padding.bottom-w.parent.border.top-w.parent.border.bottom},P=v.clientX-w.parent.left-w.parent.padding.left-w.parent.border.left-w.elem.margin.left,ne=v.clientY-w.parent.top-w.parent.padding.top-w.parent.border.top-w.elem.margin.top;d||(P-=w.elem.width/k/2,ne-=w.elem.height/k/2);var ee={x:P/U.width*(U.width*t),y:ne/U.height*(U.height*t)};return se(t,te(te({},g),{animate:!1,focal:ee}),R)}function m(t,v){t.preventDefault();var g=te(te(te({},a),v),{animate:!1}),R=t.deltaY===0&&t.deltaX?t.deltaX:t.deltaY,w=R<0?1:-1,U=f(k*Math.exp(w*g.step/3),g).scale;return C(U,t,g,t)}function r(t){var v=te(te(te({},a),{animate:!0,force:!0}),t);k=f(v.startScale,v).scale;var g=D(v.startX,v.startY,k,v);return N=g.x,x=g.y,W("panzoomreset",v)}var $,y,i,h,E,K,_=[];function G(t){if(!gn(t.target,a)){Ve(_,t),z=!0,a.handleStartEvent(t),$=N,y=x,O("panzoomstart",{x:N,y:x,scale:k,isSVG:d,originalEvent:t},a);var v=st(_);i=v.clientX,h=v.clientY,E=k,K=Ke(_)}}function J(t){if(!(!z||$===void 0||y===void 0||i===void 0||h===void 0)){Ve(_,t);var v=st(_),g=_.length>1,R=k;if(g){K===0&&(K=Ke(_));var w=Ke(_)-K;R=f(w*a.step/80+E).scale,C(R,v,{animate:!1},t)}(!g||a.pinchAndPan)&&B($+(v.clientX-i)/R,y+(v.clientY-h)/R,{animate:!1},t)}}function H(t){_.length===1&&O("panzoomend",{x:N,y:x,scale:k,isSVG:d,originalEvent:t},a),pn(_,t),z&&(z=!1,$=y=i=h=void 0)}var T=!1;function F(){T||(T=!0,Oe("down",a.canvas?b:o,G),Oe("move",document,J,{passive:!0}),Oe("up",document,H,{passive:!0}))}function I(){T=!1,Be("down",a.canvas?b:o,G),Be("move",document,J),Be("up",document,H)}return a.noBind||F(),{bind:F,destroy:I,eventNames:xe,getPan:function(){return{x:N,y:x}},getScale:function(){return k},getOptions:function(){return wn(a)},handleDown:G,handleMove:J,handleUp:H,pan:B,reset:r,resetStyle:L,setOptions:M,setStyle:function(t,v){return ge(o,t,v)},zoom:se,zoomIn:ie,zoomOut:le,zoomToPoint:C,zoomWithWheel:m}}ot.defaultOptions=lt;const _n={class:"map-wrap"},$n={class:"topbar"},Sn={class:"left"},Cn={class:"title"},Tn={class:"title-text"},xn={class:"sub"},In={key:0},Pn={class:"controls"},Dn=["value"],Nn=["value"],Mn=["value"],En={class:"toggle"},An={key:0,class:"placement-hint"},Rn={key:0,class:"copied"},Ln={class:"right"},On={key:0,class:"status"},Bn={key:1,class:"status error"},Kn={class:"panzoom-root"},Un=["src"],Fn={key:0,class:"route-svg",viewBox:"0 0 100 100",preserveAspectRatio:"none"},Vn=["points"],Yn=["title"],zn=["onClick","title"],Wn={class:"legend"},jn={key:0,class:"legend-row"},qn={key:0,class:"drawer"},Xn={key:0,class:"route-panel"},Gn={class:"route-head"},Hn={class:"route-sub"},Jn={class:"toggle route-toggle"},Zn={class:"route-list"},Qn=["onClick"],el={class:"idx"},tl={class:"name"},al={key:0,class:"locmark"},sl={key:0,class:"loc"},nl={key:1,class:"tag kindling"},ll={key:2,class:"tag done"},ol={class:"drawer-head"},il={class:"drawer-title"},rl={class:"name"},dl={key:0,class:"loc"},ul={class:"drawer-body"},cl={class:"pill-row"},vl={key:0,class:"pill"},ml={key:0,class:"desc"},pl={class:"actions"},hl={key:1,class:"note"},fl={key:2,class:"drawer-head"},yl={class:"drawer-title"},gl={class:"loc"},Ue=1,bl="/data/dlcRoutes.json",kl=ke({__name:"Map",props:{mapSrc:{},dataUrl:{default:"/data/dlcChecks.json"},checks:{default:void 0},startPlacementMode:{type:Boolean,default:!1},categoryOrder:{default:void 0},maxScale:{default:5},minScale:{default:.4},startShrink:{default:1},fitPadding:{default:0},startYOffset:{default:650}},setup(o){const a=o,d=j(()=>{const c=(a.mapSrc||"map").replace(/[^a-z0-9_-]/gi,"_");return`dlcChecksProgress:v${Ue}:${c}:${k.value}`});function b(){try{const c=localStorage.getItem(d.value);if(!c)return null;const s=JSON.parse(c);return!s||s.v!==Ue||!s.checks?null:s}catch{return null}}function L(){try{const c={v:Ue,updatedAt:Date.now(),checks:Object.fromEntries(r.value.filter(s=>!T(s)).map(s=>[s.id,{done:!!s.done,kindling:!!s.kindling}]))};localStorage.setItem(d.value,JSON.stringify(c))}catch{}}function M(){const c=b();if(!c)return;const s=c.checks;r.value=r.value.map(u=>{if(T(u))return u;const A=s[u.id];return A?{...u,done:!!A.done,kindling:!!A.kindling}:u})}function N(){try{localStorage.removeItem(d.value)}catch{}r.value=r.value.map(c=>T(c)?c:{...c,done:!1,kindling:!1})}const x=S([{id:"all",label:"All Checks",url:""},{id:"defaultSeed",label:"Default Checks",url:"/data/dlcSeeds/default.json"},{id:"seed2",label:"Seed 2 Checklist",url:"/data/dlcSeeds/seed2.json"},{id:"seed1",label:"Seed 1 Checklist",url:"/data/dlcSeeds/seed1.json"}]),k=S("seed1"),z=S(null),O=S(!0),W=S([]),D=S(""),f=j(()=>W.value.find(c=>c.routeId===D.value)??null),B=j(()=>f.value?O.value?ee.value:ee.value.filter(c=>!T(c)):[]),se=j(()=>!f.value||!O.value?[]:ee.value.filter(c=>T(c))),q=S(null),ie=S(null),le=S(null),C=S(!1),m=S(""),r=S([]),$=S(null),y=S(!!a.startPlacementMode),i=S(""),h=S(""),E=S("all"),K=S(!0);let _=null,G=null,J=0;const H=S(null);function T(c){return(c.category||"").toLowerCase()==="location"}async function F(){m.value="",C.value=!0;try{if(a.checks?.length){r.value=a.checks.map(A=>({...A,done:!!A.done,kindling:!!A.kindling}));return}const c=await fetch(a.dataUrl,{cache:"no-store"});if(!c.ok)throw new Error(`Failed to load checks: ${c.status}`);const s=await c.json(),u=Array.isArray(s)?s:s.checks;r.value=(u||[]).map(A=>({...A,done:!!A.done,kindling:!!A.kindling})),M()}catch(c){m.value=c?.message??"Failed to load checks."}finally{C.value=!1}}Pe(k,async()=>{await v(),$.value=null,M()});let I=null;function t(){I&&window.clearTimeout(I),I=window.setTimeout(()=>{I=null,L()},250)}Pe(r,()=>{t()},{deep:!0}),be(()=>{I&&window.clearTimeout(I)});async function v(){z.value=null;const c=x.value.find(s=>s.id===k.value);if(!(!c||!c.url))try{const s=await fetch(c.url,{cache:"no-store"});if(!s.ok)throw new Error(`Failed to load seed list: ${s.status}`);z.value=await s.json()}catch(s){m.value=s?.message??"Failed to load seed list."}}async function g(){try{const c=await fetch(bl,{cache:"no-store"});if(!c.ok)throw new Error(`Failed to load routes: ${c.status}`);const s=await c.json();W.value=Array.isArray(s)?s:s.routes}catch(c){console.warn(c?.message??"Failed to load routes"),W.value=[]}}const R=j(()=>{if(k.value==="all"||!z.value)return r.value;const c=new Set(z.value.checkIds),s=r.value.filter(oe=>c.has(oe.id)),u=z.value.defaultCount;if(!u||s.length<=u)return s;const A=new Map(s.map(oe=>[oe.id,oe]));return z.value.checkIds.map(oe=>A.get(oe)).filter(Boolean).slice(0,u)}),w=j(()=>R.value.filter(c=>!T(c)));j(()=>R.value.filter(c=>T(c)));const U=j(()=>{const c=new Set;for(const A of w.value)A.category&&c.add(A.category);const s=Array.from(c).sort((A,Z)=>A.localeCompare(Z));if(!a.categoryOrder?.length)return s;const u=a.categoryOrder.filter(A=>c.has(A));for(const A of s)u.includes(A)||u.push(A);return u}),P=j(()=>{const c=h.value.trim().toLowerCase();return w.value.filter(s=>!K.value&&(s.done||s.kindling)||E.value!=="all"&&(s.category||"")!==E.value?!1:c?`${s.name} ${s.locationName??""} ${s.description??""}`.toLowerCase().includes(c):!0)}),ne=j(()=>w.value.filter(c=>c.done||c.kindling).length),ee=j(()=>{const c=f.value;if(!c)return[];const s=new Map(r.value.map(u=>[u.id,u]));return c.checkIds.map(u=>s.get(u)).filter(Boolean)}),he=j(()=>ee.value.map(c=>`${c.x},${c.y}`).join(" ")),fe=j(()=>f.value?ee.value.filter(c=>!T(c)):P.value);j(()=>f.value?ee.value.filter(c=>T(c)):[]);const X=j(()=>$.value?r.value.find(c=>c.id===$.value)??null:null);function ce(c){$.value=c}function ye(){$.value=null,D.value=""}function _e(c){const s=r.value.findIndex(u=>u.id===c);s!==-1&&(T(r.value[s])||(r.value[s]={...r.value[s],done:!r.value[s].done}))}function $e(c){const s=r.value.findIndex(A=>A.id===c);if(s===-1||T(r.value[s]))return;const u=r.value[s];r.value[s]={...u,kindling:!u.kindling}}const Se=j(()=>w.value.filter(c=>!!c.kindling).length);function it(c){const s=le.value;if(!s)return null;const u=s.getBoundingClientRect(),A=(c.clientX-u.left)/u.width,Z=(c.clientY-u.top)/u.height,oe=Math.max(0,Math.min(100,A*100)),ve=Math.max(0,Math.min(100,Z*100));return{x:oe,y:ve}}async function rt(c){if(!y.value)return;const s=it(c);if(!s)return;const u=`{ "x": ${s.x.toFixed(2)}, "y": ${s.y.toFixed(2)} }`;i.value=u;try{await navigator.clipboard.writeText(u)}catch{}}function Ee(c){const s=q.value,u=le.value;if(!_||!s||!u||c!==J)return;const A=s.getBoundingClientRect(),Z=u.getBoundingClientRect();let oe=0,ve=0;if(Z.left>A.left&&(oe=A.left-Z.left),Z.right<A.right&&(oe=A.right-Z.right),Z.top>A.top&&(ve=A.top-Z.top),Z.bottom<A.bottom&&(ve=A.bottom-Z.bottom),oe!==0||ve!==0){const Ce=_.getPan();_.pan(Ce.x+oe,Ce.y+ve,{relative:!1,force:!0,animate:!1})}}function ze(c=!0,s=!0){const u=le.value,A=q.value;if(!_||!u||!A)return;const Z=++J,oe=u.naturalWidth||1,ve=u.naturalHeight||1,Ce=A.getBoundingClientRect(),je=Math.max(1,Ce.width),qe=Math.max(1,Ce.height),ct=Math.max(je/oe,qe/ve);_.pan(0,0,{relative:!1,force:!0,animate:!1});const Xe=_.getScale();Xe!==1&&_.zoom(1/Xe,{force:!0,animate:!1}),_.zoom(ct/_.getScale(),{force:!0,animate:!1});const Ge=_.getScale(),vt=oe*Ge,mt=ve*Ge;let pt=(je-vt)/2,ht=(qe-mt)/2;_.pan(Math.round(pt),Math.round(ht),{relative:!1,force:!0,animate:!1}),requestAnimationFrame(()=>{if(Z!==J)return;Ee(Z);const He=a.startYOffset??0;if(He){const me=_.getPan();_.pan(me.x,me.y-He,{relative:!1,force:!0,animate:!1})}requestAnimationFrame(()=>{Z===J&&(Ee(Z),requestAnimationFrame(()=>{if(Z===J){if(Ee(Z),s){const me=_.getPan();H.value={scale:_.getScale(),x:me.x,y:me.y}}if(c){const me=_.getPan();_.pan(me.x,me.y,{relative:!1,force:!0,animate:!0})}}}))})})}function dt(){if(!_||!H.value){ze(!0,!0);return}const c=H.value,s=c.scale/_.getScale();_.zoom(s,{force:!0,animate:!0}),_.pan(c.x,c.y,{relative:!1,force:!0,animate:!0})}function ut(){const c=ie.value,s=q.value;!c||!s||(We(),_=ot(c,{maxScale:a.maxScale,minScale:a.minScale,contain:void 0,cursor:"grab"}),G=u=>{_&&(u.ctrlKey||(u.preventDefault(),_.zoomWithWheel(u)))},s.addEventListener("wheel",G,{passive:!1}))}function We(){const c=q.value;if(c&&G&&c.removeEventListener("wheel",G),G=null,_){try{_.destroy()}catch{}_=null}}return Pe(k,async()=>{await v(),$.value=null}),Pe(D,()=>{$.value=null}),Ie(async()=>{await F(),await v(),await g(),await ft(),ut();const c=le.value;if(!c)return;const s=()=>{ze(!1,!0),requestAnimationFrame(()=>dt())};c.complete?s():c.addEventListener("load",s,{once:!0})}),be(()=>{We()}),(c,s)=>(l(),n("div",_n,[e("div",$n,[e("div",Sn,[e("div",Cn,[s[10]||(s[10]=e("span",{class:"spark"},"ðŸ§­",-1)),e("div",Tn,[s[9]||(s[9]=e("div",{class:"h1"},"DLC Checks Map (WIP)",-1)),e("div",xn,[de(p(ne.value)+"/"+p(w.value.length)+" completed â€¢ ðŸ”¥ "+p(Se.value)+" Kindling Shards ",1),P.value.length!==w.value.length?(l(),n("span",In," â€¢ showing "+p(P.value.length),1)):Y("",!0)])])]),e("div",Pn,[Q(e("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>h.value=u),class:"input",type:"text",placeholder:"Search checksâ€¦"},null,512),[[re,h.value]]),Q(e("select",{"onUpdate:modelValue":s[1]||(s[1]=u=>k.value=u),class:"select"},[(l(!0),n(V,null,ae(x.value,u=>(l(),n("option",{key:u.id,value:u.id},p(u.label),9,Dn))),128))],512),[[Ae,k.value]]),Q(e("select",{"onUpdate:modelValue":s[2]||(s[2]=u=>E.value=u),class:"select"},[s[11]||(s[11]=e("option",{value:"all"},"All categories",-1)),(l(!0),n(V,null,ae(U.value,u=>(l(),n("option",{key:u,value:u},p(u),9,Nn))),128))],512),[[Ae,E.value]]),e("button",{class:"btn",onClick:N,title:"Clear saved progress"}," Clear Progress "),Q(e("select",{"onUpdate:modelValue":s[3]||(s[3]=u=>D.value=u),class:"select"},[s[12]||(s[12]=e("option",{value:""},"No route (show all)",-1)),(l(!0),n(V,null,ae(W.value,u=>(l(),n("option",{key:u.routeId,value:u.routeId},p(u.label),9,Mn))),128))],512),[[Ae,D.value]]),e("label",En,[Q(e("input",{"onUpdate:modelValue":s[4]||(s[4]=u=>K.value=u),type:"checkbox"},null,512),[[Je,K.value]]),s[13]||(s[13]=e("span",null,"Show completed",-1))])]),y.value?(l(),n("div",An,[s[14]||(s[14]=e("b",null,"Placement mode:",-1)),s[15]||(s[15]=de(" click the map to copy coordinates. ",-1)),i.value?(l(),n("span",Rn,"Copied: "+p(i.value),1)):Y("",!0)])):Y("",!0)]),e("div",Ln,[C.value?(l(),n("div",On,"Loading checksâ€¦")):m.value?(l(),n("div",Bn,"âŒ "+p(m.value),1)):Y("",!0)])]),e("div",{ref_key:"containerEl",ref:q,class:ue(["map-viewport",{placing:y.value}]),onClick:rt},[e("div",Kn,[e("div",{ref_key:"panzoomEl",ref:ie,class:"map-layer"},[e("img",{ref_key:"imgEl",ref:le,class:"map-img",src:c.mapSrc,alt:"DLC map"},null,8,Un),f.value&&ee.value.length>=2?(l(),n("svg",Fn,[e("polyline",{class:"route-line",points:he.value},null,8,Vn)])):Y("",!0),(l(!0),n(V,null,ae(se.value,u=>(l(),n("button",{key:u.id,class:"waypoint",style:Ze({left:u.x+"%",top:u.y+"%"}),onClick:s[5]||(s[5]=Fe(()=>{},["stop"])),title:u.name}," â›³ ",12,Yn))),128)),(l(!0),n(V,null,ae(fe.value,u=>(l(),n("button",{key:u.id,class:ue(["pin",{done:!!u.done,kindling:!!u.kindling,selected:$.value===u.id,inRoute:!!f.value}]),style:Ze({left:u.x+"%",top:u.y+"%"}),onClick:Fe(A=>ce(u.id),["stop"]),title:u.locationName?`${u.name} â€” ${u.locationName}`:u.name},s[16]||(s[16]=[e("span",{class:"dot"},null,-1)]),14,zn))),128))],512)]),e("div",Wn,[s[18]||(s[18]=Te('<div class="legend-row" data-v-5aedbda8><span class="legend-dot" data-v-5aedbda8></span><span data-v-5aedbda8>Incomplete</span></div><div class="legend-row" data-v-5aedbda8><span class="legend-dot done" data-v-5aedbda8></span><span data-v-5aedbda8>Completed</span></div><div class="legend-row" data-v-5aedbda8><span class="legend-dot kindling" data-v-5aedbda8></span><span data-v-5aedbda8>Kindling</span></div>',3)),f.value&&O.value?(l(),n("div",jn,s[17]||(s[17]=[e("span",{class:"legend-flag"},"â›³",-1),e("span",null,"Route waypoint",-1)]))):Y("",!0)])],2),pe(yt,{name:"slide"},{default:gt(()=>[X.value||f.value?(l(),n("aside",qn,[f.value?(l(),n("div",Xn,[e("div",Gn,[s[20]||(s[20]=e("div",{class:"route-title"},"Route",-1)),e("div",Hn,p(f.value.label)+" â€¢ "+p(ee.value.length)+" items",1),e("label",Jn,[Q(e("input",{"onUpdate:modelValue":s[6]||(s[6]=u=>O.value=u),type:"checkbox"},null,512),[[Je,O.value]]),s[19]||(s[19]=e("span",null,"Show locations",-1))])]),e("ol",Zn,[(l(!0),n(V,null,ae(B.value,(u,A)=>(l(),n("li",{key:u.id,class:ue(["route-item",{isLocation:T(u),active:$.value===u.id}]),onClick:Z=>ce(u.id)},[e("span",el,p(A+1),1),e("span",tl,[T(u)?(l(),n("span",al,"â›³")):Y("",!0),de(" "+p(u.name),1)]),u.locationName?(l(),n("span",sl,"â€” "+p(u.locationName),1)):Y("",!0),!T(u)&&u.kindling?(l(),n("span",nl,"Kindling")):!T(u)&&u.done?(l(),n("span",ll,"Done")):Y("",!0)],10,Qn))),128))])])):Y("",!0),X.value?(l(),n(V,{key:1},[e("div",ol,[e("div",il,[e("div",rl,p(X.value.name),1),X.value.locationName?(l(),n("div",dl,p(X.value.locationName),1)):Y("",!0)]),e("button",{class:"icon-btn",onClick:ye,"aria-label":"Close"},"âœ•")]),e("div",ul,[e("div",cl,[X.value.category?(l(),n("span",vl,p(X.value.category),1)):Y("",!0)]),X.value.description?(l(),n("p",ml,p(X.value.description),1)):Y("",!0),e("div",pl,[T(X.value)?Y("",!0):(l(),n(V,{key:0},[e("button",{class:"btn primary",onClick:s[7]||(s[7]=u=>_e(X.value.id))},p(X.value.done?"Mark incomplete":"Mark complete"),1),e("button",{class:"btn kindling",onClick:s[8]||(s[8]=u=>$e(X.value.id))},p(X.value.kindling?"Remove kindling":"Mark as Kindling"),1)],64))]),T(X.value)?(l(),n("div",hl,s[21]||(s[21]=[e("b",null,"Waypoint:",-1),de(" This is a route marker only. It doesnâ€™t count toward completion. ",-1)]))):Y("",!0)])],64)):(l(),n("div",fl,[e("div",yl,[s[22]||(s[22]=e("div",{class:"name"},"Route",-1)),e("div",gl,p(f.value?.label),1)]),e("button",{class:"icon-btn",onClick:ye,"aria-label":"Close"},"âœ•")]))])):Y("",!0)]),_:1})]))}}),wl=we(kl,[["__scopeId","data-v-5aedbda8"]]),_l={class:"page"},$l={class:"home"},Sl={class:"hero"},Cl={class:"hero-top"},Tl={class:"cta"},xl={class:"hero-stats"},Il={class:"stat"},Pl={class:"v"},Dl={class:"stat"},Nl={class:"v"},Ml={class:"stat"},El={class:"v"},Al={class:"stack"},Rl={id:"seeds",class:"section"},Ll={class:"details",open:""},Ol={class:"details-body"},Bl={class:"block"},Kl={id:"leaderboard",class:"section"},Ul={class:"block"},Fl={key:0,class:"scroll-safe"},Vl={key:1,class:"panel muted"},Yl={id:"leaderboard",class:"section"},zl={class:"block"},Wl={key:0,class:"scroll-safe"},jl={key:1,class:"panel muted"},ql={id:"seeds",class:"section"},Xl={class:"details",open:""},Gl={class:"details-body"},Hl={class:"block"},Jl={id:"rules",class:"section"},Zl={class:"details",open:""},Ql={class:"details-body scroll-safe"},eo={id:"signup"},to=ke({__name:"HomePage",setup(o){const a=S([]),d=S([]),b=S([]),L=S(null),M=S(new Date);let N=null;function x(D){const f=new Date(D);return Number.isNaN(f.getTime())?new Date(0):f}function k(D,f){return D===!0?!0:D===!1?!1:M.value.getTime()>=x(f).getTime()}function z(D){const f=x(D).getTime();return f===0?!1:M.value.getTime()>=f}const O=j(()=>{if(!L.value)return!1;for(const D of L.value.weeks||[])for(const f of D.seeds||[]){const B=k(f.releases.forceDownload,f.releases.downloadAt),se=!z(f.deadlineAt);if(B&&se)return!0}return!1});Ie(async()=>{const[D,f]=await Promise.all([fetch("/data/teams.json",{cache:"no-store"}),fetch("/data/releases.json",{cache:"no-store"})]),B=await D.json();a.value=B.teams||[],d.value=B.races||[],b.value=B.pointsTable||[],L.value=await f.json(),N=window.setInterval(()=>M.value=new Date,1e3)}),be(()=>{N&&window.clearInterval(N)});function W(D){const f=document.getElementById(D);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}return(D,f)=>(l(),n("div",_l,[e("div",$l,[e("header",Sl,[e("div",Cl,[f[5]||(f[5]=e("div",{class:"brand"},[e("span",{class:"badge"},"Ignite Hosted 2v2 DLC Randomizer Event"),e("h1",{class:"title"},"Absoloot Chaos"),e("p",{class:"sub"}," Seeds unlock on a schedule. Download when ready, race, and submit before the deadline. ")],-1)),e("div",Tl,[e("button",{class:"chip",onClick:f[0]||(f[0]=B=>W("seeds"))},"Seeds"),e("button",{class:"chip",onClick:f[1]||(f[1]=B=>W("leaderboard"))},"Leaderboard"),e("button",{class:"chip",onClick:f[2]||(f[2]=B=>W("rules"))},"Rules"),e("button",{class:"chip",onClick:f[3]||(f[3]=B=>W("DLCChecksMap"))},"DLC Checks Map"),e("button",{class:"chip-live",onClick:f[4]||(f[4]=B=>W("signup"))},"Sign Ups")])]),e("div",xl,[e("div",Il,[f[6]||(f[6]=e("div",{class:"k"},"Teams",-1)),e("div",Pl,p(a.value.length||"â€”"),1)]),e("div",Dl,[f[7]||(f[7]=e("div",{class:"k"},"Races",-1)),e("div",Nl,p(d.value.length||"â€”"),1)]),e("div",Ml,[f[8]||(f[8]=e("div",{class:"k"},"Seed Status",-1)),e("div",El,p(O.value?"Active":"Locked"),1)])])]),e("main",Al,[O.value?(l(),n(V,{key:0},[e("section",Rl,[e("details",Ll,[f[9]||(f[9]=Te('<summary class="summary" data-v-73199fd4><div class="sum-left" data-v-73199fd4><h2 class="sum-title" data-v-73199fd4>Seed Releases</h2><p class="summary-sub" data-v-73199fd4>Click to collapse / expand</p></div><span class="chev" data-v-73199fd4>â–¾</span></summary>',1)),e("div",Ol,[e("div",Bl,[pe(et)])])])]),e("section",Kl,[f[10]||(f[10]=e("div",{class:"section-head"},[e("h2",null,"Leaderboard"),e("p",null,"Ranked by team time with F1-style points. Expand for race details. (Details will be hidden until Deadline)")],-1)),e("div",Ul,[a.value.length?(l(),n("div",Fl,[pe(Qe,{teams:a.value,raceOrder:d.value,pointsTable:b.value},null,8,["teams","raceOrder","pointsTable"])])):(l(),n("div",Vl,"Loading leaderboardâ€¦"))])])],64)):(l(),n(V,{key:1},[e("section",Yl,[f[11]||(f[11]=e("div",{class:"section-head"},[e("h2",null,"Leaderboard"),e("p",null,"Ranked by team time with F1-style points. Expand for race details.")],-1)),e("div",zl,[a.value.length?(l(),n("div",Wl,[pe(Qe,{teams:a.value,raceOrder:d.value,pointsTable:b.value},null,8,["teams","raceOrder","pointsTable"])])):(l(),n("div",jl,"Loading leaderboardâ€¦"))])]),e("section",ql,[e("details",Xl,[f[12]||(f[12]=Te('<summary class="summary" data-v-73199fd4><div class="sum-left" data-v-73199fd4><h2 class="sum-title" data-v-73199fd4>Seed Releases</h2><p class="summary-sub" data-v-73199fd4>Click to collapse / expand</p></div><span class="chev" data-v-73199fd4>â–¾</span></summary>',1)),e("div",Gl,[e("div",Hl,[pe(et)])])])])],64)),e("section",Jl,[e("details",Zl,[f[13]||(f[13]=Te('<summary class="summary" data-v-73199fd4><div class="sum-left" data-v-73199fd4><h2 class="sum-title" data-v-73199fd4>Rules</h2><p class="summary-sub" data-v-73199fd4>Click to collapse / expand</p></div><span class="chev" data-v-73199fd4>â–¾</span></summary>',1)),e("div",Ql,[pe(Ra)])])])]),f[14]||(f[14]=e("section",{id:"DLCChecksMap"},null,-1)),pe(wl,{"map-src":"/img/testt2.jpg","data-url":"/data/dlcChecks.json"}),e("section",eo,[pe(dn)])])]))}}),so=we(to,[["__scopeId","data-v-73199fd4"]]);export{so as default};
