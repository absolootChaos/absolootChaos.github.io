import{d as x,r as d,c as L,o as O,a as j,b as n,e as J,f as t,F as k,g as S,h as B,n as F,t as u,i as _,j as i,_ as H,w as N,v as C,k as K}from"./index-DCZSZijJ.js";const Q={class:"rules-page"},X={class:"layout"},Z={class:"side"},ee={class:"nav-card"},te=["onClick"],se={class:"nav-text"},ae={class:"content"},ne=["id"],ie={class:"card-head"},oe={class:"card-titles"},le={class:"card-title"},re={key:0,class:"card-note"},de={key:0,class:"card-body"},ce={class:"bullets"},ue={key:1,class:"subsections"},me={class:"sub-title"},he={class:"bullets"},pe=x({__name:"Rules",setup(U){const m=[{id:"intro",title:"Introduction",items:["Welcome Rando Racers! We are Pleased to Announce an event that may make Ringus seem competitive: ABSOLOOT CHAOS","ABSOLOOT CHAOS is a 2v2 DLC Rando Event which will take place over the following 4 weeks.","Each Week, teams will be asked to do 2 seed by the given deadline and submit to see who lands on top","However, these 8 Seeds are not just any rando seeds, as each see will have a unique twist for you and your teammate to maneuver through.","Some Seeds the twist will be said in the description of a seeds release.","While Other seeds will have you and your teammate routing on the fly to newly given circumstances","The Goal is to enjoy the Chaos and have some fun"]},{id:"general",title:"General Rules",items:["These are the general rules for this event and are intended to align all players on how 2v2 DLC Randomizer is played.","Always review any seed-specific changes provided for your match. If no special rules are listed for a seed, default to the rules below."]},{id:"submissions",title:"Submissions & Deadlines",items:["Teams must submit their times on both seeds before the set deadline listed that week."]},{id:"starting-conditions",title:"Starting Conditions",items:["Enough runes to reach Level 60","Crimson and Cerulean Flasks at +12","All Whetblades","All Talisman Pouches","All Crafting Recipes unlocked (if you have the materials, you can craft the item)","All Upgrade Bell Bearings (Smithing and Somber Stones available from Twin Maiden Husks at Roundtable Hold)","Smithing Stone cost reduced: 1 stone per upgrade or 3 stones per tier","All Spell Shops are fully randomized (any vendor, including Ymir, may sell powerful or key items)","Torrent is not scared in Abyssal Woods and can be used to reach Midra"]},{id:"progression",title:"DLC Progression & Key Items",items:["There are 17 unique Messmer Kindling Shards.","Each individual player only needs 7 to enter Enir-Ilim.","Scadutree Fragments and Golden Seeds can only be obtained from Key Item checks.","Key Item checks include: 4 Overworld Checks and 30 Boss Checks (excluding Consort).","Revered Spirit Ashes are not randomized and remain in their vanilla locations."],subsections:[{title:"Overworld Key Item Checks (4)",items:["Oâ€™ Mother Emote â€” Bonny Village","Hole-Laden Necklace â€” obtained by speaking to Ymir","Ensis Imbued Sword Key â€” Castle Ensis","Belurat Sewer Key â€” Belurat"]}]},{id:"seed-setup",title:"Seed Setup & Tools",items:["Extract the Randomizer seed files anywhere on your desktop.","Launch the seed using launchmod_rando.bat.","All seeds include a custom overlay (designed by Psiphicode) that displays boss checks and indicates which checks may contain Messmer Kindling Shards.","LiveSplit is allowed."]},{id:"team-restrictions",title:"Team Restrictions",items:["Both players on a team must start with different starting classes.","Both players must use different primary weapons for the race."],subsections:[{title:"What is a Primary Weapon?",items:["A Primary Weapon is a weapon that has been used to kill a boss."]}]},{id:"quitouts",title:"Quit-Out Rules",items:["Quit-outs are allowed under normal circumstances.","A Player is allowed quit-outs indefinetely if there is only one remaining check left.","If a player quits out for more than 15 seconds while more than one check remains, their teammate must also quit out."],subsections:[{title:"Exception",items:["If the teammate is currently in a boss fight, they may finish the fight.","They must quit out immediately afterward if the original player is still quit out."]}]},{id:"skips",title:"Skips & Movement Rules",items:["Front-to-Back Skip is allowed."],subsections:[{title:"Stake Skips",items:["No intentional stake skips are allowed.","If you fail the jump down to Messmer or to Belurat from Enir-Ilim, taking the stake is allowed as long as a legitimate first attempt was clearly made."]}]}],y=d(m[0]?.id??"general");function f(h){const l=document.getElementById(h);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}const w=L(()=>m.map(h=>h.id));function r(){let l=y.value,o=-1/0;for(const p of w.value){const v=document.getElementById(p);if(!v)continue;const b=v.getBoundingClientRect().top-120;b<=0&&b>o&&(o=b,l=p)}y.value=l}return O(()=>{window.addEventListener("scroll",r,{passive:!0}),r()}),j(()=>{window.removeEventListener("scroll",r)}),(h,l)=>(i(),n("div",Q,[l[2]||(l[2]=J('<header class="hero" data-v-896344b8><div class="gridlines" aria-hidden="true" data-v-896344b8></div><div class="speed-sweep" aria-hidden="true" data-v-896344b8></div><div class="hero-inner" data-v-896344b8><div class="badge" data-v-896344b8>Absoloot Chaos</div><h1 class="title" data-v-896344b8>Event Rules</h1><p class="subtitle" data-v-896344b8> Seed-specific notes override these rules. If no seed notes are provided, follow this page. </p></div></header>',1)),t("div",X,[t("aside",Z,[t("div",ee,[l[0]||(l[0]=t("div",{class:"nav-title"},"Contents",-1)),(i(),n(k,null,S(m,o=>t("button",{key:o.id,class:F(["nav-link",{active:y.value===o.id}]),onClick:p=>f(o.id),type:"button"},[t("span",se,u(o.title),1)],10,te)),64)),l[1]||(l[1]=t("div",{class:"nav-foot"},[t("div",{class:"tiny"},[B(" Tip: Use "),t("kbd",null,"Ctrl"),B(" + "),t("kbd",null,"F"),B(" to quickly find a rule. ")])],-1))])]),t("main",ae,[(i(),n(k,null,S(m,o=>t("section",{key:o.id,class:"card",id:o.id},[t("header",ie,[t("div",oe,[t("h2",le,u(o.title),1),o.note?(i(),n("p",re,u(o.note),1)):_("",!0)])]),o.items?.length?(i(),n("div",de,[t("ul",ce,[(i(!0),n(k,null,S(o.items,(p,v)=>(i(),n("li",{key:v},u(p),1))),128))])])):_("",!0),o.subsections?.length?(i(),n("div",ue,[(i(!0),n(k,null,S(o.subsections,(p,v)=>(i(),n("div",{key:v,class:"subcard"},[t("h3",me,u(p.title),1),t("ul",he,[(i(!0),n(k,null,S(p.items,(T,b)=>(i(),n("li",{key:b},u(T),1))),128))])]))),128))])):_("",!0)],8,ne)),64))])])]))}}),ve=H(pe,[["__scopeId","data-v-896344b8"]]),ye={class:"wrap"},fe={class:"signup-card"},we={class:"left"},be={class:"grid"},ge={class:"field"},_e={class:"field"},ke={class:"field"},Te={class:"field"},Se={class:"field full"},Ne={key:0,class:"status error"},Ce={key:1,class:"status ok"},$e={class:"right"},Ee=["disabled"],Ie={key:0},Pe={key:1},Ae={class:"teams-card"},Re={class:"teams-head"},Be={key:0,class:"mh-sub"},Le={key:1,class:"mh-sub"},xe={key:0,class:"empty"},Oe={key:1,class:"teams-scroll"},Ue={class:"team-main"},Ve={class:"team-text"},We={key:0,class:"ts"},qe={class:"team-links"},Me=["href"],Ke=["href"],D="https://script.google.com/macros/s/AKfycbx5dLXFc2BYN6wmkl31qZvWDwcJLNqOiu82JwVJfW2YyqutX0VosVZPvkxIvCr1ysES/exec",De=x({__name:"SignUps",setup(U){const m=d(""),y=d(""),f=d(""),w=d(""),r=d(""),h=d(!1),l=d(""),o=d(""),p=d([]),v=d(!0);let T=null;function b(a){const e=(a||"").trim();if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const s=e.replace(/^@/,"").trim();return s?`https://twitch.tv/${s}`:""}function V(a){if(!a)return"";try{const s=new URL(a).pathname.replace("/","");return s?`@${s}`:a}catch{const e=a.trim();return e?e.startsWith("@")?e:`@${e}`:""}}function c(a){return String(a??"").trim().replace(/\s+/g," ")}function E(a){return c(a).toLowerCase()}function $(a){if(!a)return 0;const s=new Date(a).getTime();return Number.isNaN(s)?0:s}function W(a){const e=E(a.playerName),s=E(a.teammateName),g=[e,s].sort().join("|");return`${E(a.teamName)}::${g}`}function z(a){const e=c(a.playerName)||"Player 1",s=c(a.teammateName)||"Player 2",g=c(a.teamName)||"TEAM";return`${e} & ${s} as "${g}"`}const q=L(()=>c(m.value).length>0&&c(f.value).length>0&&c(r.value).length>0&&!h.value);async function I(){try{v.value=!0;const e=await(await fetch(D,{method:"GET",cache:"no-store"})).json();if(!e?.ok)throw new Error(e?.error||"Failed to load teams");p.value=e.teams||[]}catch(a){console.error(a)}finally{v.value=!1}}async function Y(){if(l.value="",o.value="",!q.value){l.value="Please fill Player Name, Teammate Name, and Team Name.";return}h.value=!0;try{const a={playerName:c(m.value),playerTwitch:b(y.value),teammateName:c(f.value),teammateTwitch:b(w.value),teamName:c(r.value)},s=await(await fetch(D,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(a)})).json();if(!s?.ok)throw new Error(s?.error||"Submission failed");o.value="âœ… Signed up! Your team should appear below shortly.",m.value="",y.value="",f.value="",w.value="",r.value="",await I()}catch(a){l.value=`âŒ ${a?.message||"Submission failed"}`}finally{h.value=!1}}const P=L(()=>{const a=new Map;for(const e of p.value){const s=c(e.playerName),g=c(e.teammateName),A=c(e.teamName);if(!s||!g||!A)continue;const R=W({...e,playerName:s,teammateName:g,teamName:A}),M=a.get(R);if(!M)a.set(R,e);else{const G=$(M.timestamp);$(e.timestamp)>=G&&a.set(R,e)}}return Array.from(a.values()).sort((e,s)=>$(s.timestamp)-$(e.timestamp))});return O(async()=>{await I(),T=window.setInterval(I,15e3)}),j(()=>{T&&window.clearInterval(T)}),(a,e)=>(i(),n("div",ye,[t("div",fe,[t("div",we,[e[10]||(e[10]=t("h2",{class:"title"},"Team Sign Up",-1)),e[11]||(e[11]=t("p",{class:"sub"},"Enter your duo info. Teams update live.",-1)),t("div",be,[t("div",ge,[e[5]||(e[5]=t("label",null,"Player Name *",-1)),N(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),placeholder:"Player 1"},null,512),[[C,m.value]])]),t("div",_e,[e[6]||(e[6]=t("label",null,"Player Twitch",-1)),N(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>y.value=s),placeholder:"twitch.tv/yourname or @yourname"},null,512),[[C,y.value]])]),t("div",ke,[e[7]||(e[7]=t("label",null,"Teammate Name *",-1)),N(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),placeholder:"Player 2"},null,512),[[C,f.value]])]),t("div",Te,[e[8]||(e[8]=t("label",null,"Teammate Twitch",-1)),N(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>w.value=s),placeholder:"twitch.tv/teammate or @teammate"},null,512),[[C,w.value]])]),t("div",Se,[e[9]||(e[9]=t("label",null,"Team Name *",-1)),N(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>r.value=s),placeholder:"Example: The Crimson Chin"},null,512),[[C,r.value]])])]),l.value?(i(),n("p",Ne,u(l.value),1)):_("",!0),o.value?(i(),n("p",Ce,u(o.value),1)):_("",!0)]),t("div",$e,[t("button",{class:F(["btn",{loading:h.value}]),disabled:!q.value,onClick:Y},[h.value?(i(),n("span",Pe,"Signing upâ€¦")):(i(),n("span",Ie,"Sign Up"))],10,Ee),e[12]||(e[12]=t("p",{class:"hint"},"Required: Player Name, Teammate Name, Team Name",-1))])]),t("div",Ae,[t("div",Re,[e[14]||(e[14]=t("div",{class:"dot"},null,-1)),t("div",null,[e[13]||(e[13]=t("div",{class:"mh-title"},"Signed Up Teams",-1)),v.value?(i(),n("div",Be,"Loadingâ€¦")):(i(),n("div",Le,u(P.value.length)+" teams",1))])]),P.value.length===0&&!v.value?(i(),n("div",xe," No teams yet â€” be the first ðŸ‘€ ")):(i(),n("div",Oe,[(i(!0),n(k,null,S(P.value,(s,g)=>(i(),n("div",{class:"team-row",key:W(s)+":"+g},[t("div",Ue,[t("span",Ve,u(z(s)),1),s.timestamp?(i(),n("span",We,"("+u(new Date(s.timestamp).toLocaleString())+")",1)):_("",!0)]),t("div",qe,[s.playerTwitch?(i(),n("a",{key:0,class:"pill-link",href:s.playerTwitch,target:"_blank",rel:"noopener noreferrer"}," P1 "+u(V(s.playerTwitch)),9,Me)):_("",!0),s.teammateTwitch?(i(),n("a",{key:1,class:"pill-link",href:s.teammateTwitch,target:"_blank",rel:"noopener noreferrer"}," P2 "+u(V(s.teammateTwitch)),9,Ke)):_("",!0)])]))),128))]))])]))}}),je=H(De,[["__scopeId","data-v-c91403cb"]]),ze=x({__name:"HomePage",setup(U){const m=d([]),y=d([]),f=d([]);return O(async()=>{const r=await(await fetch("/data/teams.json")).json();m.value=r.teams,y.value=r.races,f.value=r.pointsTable}),(w,r)=>(i(),n(k,null,[K(je),K(ve)],64))}});export{ze as default};
