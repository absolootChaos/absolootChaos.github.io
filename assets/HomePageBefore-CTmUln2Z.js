import{d as z,r as u,c as H,o as X,a as te,b as a,e as ee,f as e,F as y,g as M,h as E,n as F,t as c,i as A,j as l,_ as Z,w as ue,k as D,v as R,l as J}from"./index-kQJm76mQ.js";const ce={class:"rules-page"},me={class:"layout"},ve={class:"side"},he={class:"nav-card"},pe=["onClick"],fe={class:"nav-text"},ye={class:"content"},we=["id"],ke={class:"card-head"},be={class:"card-titles"},_e={class:"card-title"},ge={key:0,class:"card-note"},Se={key:0,class:"card-body"},Te={class:"bullets"},$e={key:1,class:"subsections"},Ne={class:"sub-title"},Ce={class:"bullets"},De=z({__name:"Rules",setup(Q){const p=[{id:"intro",title:"Introduction",items:["Welcome Rando Racers! We are Pleased to Announce an event that may make Ringus seem competitive: ABSOLOOT CHAOS","ABSOLOOT CHAOS is a 2v2 DLC Rando Event which will take place over the following 4 weeks.","Each Week, teams will be asked to do 2 seed by the given deadline and submit to see who lands on top","However, these 8 Seeds are not just any rando seeds, as each see will have a unique twist for you and your teammate to maneuver through.","Some Seeds the twist will be said in the description of a seeds release.","While Other seeds will have you and your teammate routing on the fly to newly given circumstances","The Goal is to enjoy the Chaos and have some fun"]},{id:"general",title:"General Rules",items:["These are the general rules for this event and are intended to align all players on how 2v2 DLC Randomizer is played.","Always review any seed-specific changes provided for your match. If no special rules are listed for a seed, default to the rules below.","The Goal is to kill the PCR Replacement, you can quit out once you've seen the `ENEMY FELLED` equivalent"]},{id:"submissions",title:"Submissions & Deadlines",items:["Teams must submit their times on both seeds before the set deadline listed that week."]},{id:"starting-conditions",title:"Starting Conditions",items:["Enough runes to reach Level 60","Crimson and Cerulean Flasks at +12","All Whetblades","All Talisman Pouches","All Crafting Recipes unlocked (if you have the materials, you can craft the item)","All Upgrade Bell Bearings (Smithing and Somber Stones available from Twin Maiden Husks at Roundtable Hold)","Smithing Stone cost reduced: 1 stone per upgrade or 3 stones per tier","All Spell Shops are fully randomized (any vendor, including Ymir, may sell powerful or key items)","Torrent is not scared in Abyssal Woods and can be used to reach Midra"]},{id:"progression",title:"DLC Progression & Key Items",items:["There are 17 unique Messmer Kindling Shards.","Each individual player only needs 7 to enter Enir-Ilim.","Scadutree Fragments and Golden Seeds can only be obtained from Key Item checks.","Key Item checks include: 4 Overworld Checks and 31 Boss Checks (excluding Consort).","Revered Spirit Ashes are not randomized and remain in their vanilla locations."],subsections:[{title:"Overworld Key Item Checks (4)",items:["Oâ€™ Mother Emote â€” Bonny Village","Hole-Laden Necklace â€” obtained by speaking to Ymir","Ensis Imbued Sword Key â€” Castle Ensis","Belurat Sewer Key â€” Belurat"]},{title:"Boss Key Item Checks (31) Not Including PCR",items:["Solitary Knight - Western Nameless Mausoleum","Ghostflame Dragon - Gravesite Plains","Divine Beast Dancing Lion - Belurat","Ancient Dragon Man","Rellana","Ralva, The Great Red Bear","Golden Hippo","Scadutree Avatar","Messmer the Impaler","Commander Gauis","Black Knight Edredd - Fort of Reprimand","Ghostflame Dragon - Outside Reprimand","Black Knight Garrew - Inside Fog Rift Fort","Red Bear NPC - Northern Nameless Mausoleum","Rugalea in Rauh Base","Tree Sentinel 1 - Hinterlands","Tree Sentinel 2 - Hinterlands","Fallingstar Beast - Hinterlands","Ghostflame Dragon w/ Adds - Cerulean Coast","Dancer - Southern Nameless Mausoleum","Putrescent Knight","Death Rite Bird - Charos Hidden Grave","Jagged Peak Drake 1","Dueling Drakes","Ancient Dragon Senessax","Bayle the Dread","Rakshasa - Eastern Nameless Mausoleum","Jori, Elder Inquisitor","Midra, Lord of Frenzy Flame","Deathblight Dancing Lion","Romina, Saint of the Bud"]}]},{id:"seed-setup",title:"Seed Setup & Tools",items:["Extract the Randomizer seed files anywhere on your desktop.","Launch the seed using launchmod_rando.bat.","All seeds include a custom overlay (designed by Psiphicode) that displays boss checks and indicates which checks may contain Messmer Kindling Shards.","LiveSplit is allowed."]},{id:"team-restrictions",title:"Team Restrictions",items:["One Player on a Team must kill the Messmer Replacement before ending the race.","You Must have all Unique Shards Required to Enter and kill the PCR Replacement","Both players on a team must start with different starting classes.","Both players must use different primary weapons for the race."],subsections:[{title:"What is a Primary Weapon?",items:["A Primary Weapon is a weapon that has been used to kill a boss."]}]},{id:"quitouts",title:"Quit-Out Rules",items:["Quit-outs are allowed under normal circumstances.","A Player is allowed quit-outs indefinetely if there is only one remaining check left.","If a player quits out for more than 15 seconds while more than one check remains, their teammate must also quit out."],subsections:[{title:"Exception",items:["If the teammate is currently in a boss fight, they may finish the fight.","They must quit out immediately afterward if the original player is still quit out."]}]},{id:"skips",title:"Skips & Movement Rules",items:["Front-to-Back Skip is allowed."],subsections:[{title:"Stake Skips",items:["No intentional stake skips are allowed.","If you fail the jump down to Messmer or to Belurat from Enir-Ilim, taking the stake is allowed as long as a legitimate first attempt was clearly made."]}]}],k=u(p[0]?.id??"general");function C(v){const h=document.getElementById(v);h&&h.scrollIntoView({behavior:"smooth",block:"start"})}const P=H(()=>p.map(v=>v.id));function f(){let h=k.value,m=-1/0;for(const b of P.value){const _=document.getElementById(b);if(!_)continue;const N=_.getBoundingClientRect().top-120;N<=0&&N>m&&(m=N,h=b)}k.value=h}return X(()=>{window.addEventListener("scroll",f,{passive:!0}),f()}),te(()=>{window.removeEventListener("scroll",f)}),(v,h)=>(l(),a("div",ce,[h[2]||(h[2]=ee('<header class="hero" data-v-cd9a72df><div class="gridlines" aria-hidden="true" data-v-cd9a72df></div><div class="speed-sweep" aria-hidden="true" data-v-cd9a72df></div><div class="hero-inner" data-v-cd9a72df><div class="badge" data-v-cd9a72df>Absoloot Chaos</div><h1 class="title" data-v-cd9a72df>Event Rules</h1><p class="subtitle" data-v-cd9a72df> Seed-specific notes override these rules. If no seed notes are provided, follow this page. </p></div></header>',1)),e("div",me,[e("aside",ve,[e("div",he,[h[0]||(h[0]=e("div",{class:"nav-title"},"Contents",-1)),(l(),a(y,null,M(p,m=>e("button",{key:m.id,class:F(["nav-link",{active:k.value===m.id}]),onClick:b=>C(m.id),type:"button"},[e("span",fe,c(m.title),1)],10,pe)),64)),h[1]||(h[1]=e("div",{class:"nav-foot"},[e("div",{class:"tiny"},[E(" Tip: Use "),e("kbd",null,"Ctrl"),E(" + "),e("kbd",null,"F"),E(" to quickly find a rule. ")])],-1))])]),e("main",ye,[(l(),a(y,null,M(p,m=>e("section",{key:m.id,class:"card",id:m.id},[e("header",ke,[e("div",be,[e("h2",_e,c(m.title),1),m.note?(l(),a("p",ge,c(m.note),1)):A("",!0)])]),m.items?.length?(l(),a("div",Se,[e("ul",Te,[(l(!0),a(y,null,M(m.items,(b,_)=>(l(),a("li",{key:_},c(b),1))),128))])])):A("",!0),m.subsections?.length?(l(),a("div",$e,[(l(!0),a(y,null,M(m.subsections,(b,_)=>(l(),a("div",{key:_,class:"subcard"},[e("h3",Ne,c(b.title),1),e("ul",Ce,[(l(!0),a(y,null,M(b.items,(U,N)=>(l(),a("li",{key:N},c(U),1))),128))])]))),128))])):A("",!0)],8,we)),64))])])]))}}),Re=Z(De,[["__scopeId","data-v-cd9a72df"]]),Pe={class:"seed-wrap"},Ae={class:"seed-header"},Ee={class:"seed-controls"},Ie=["onClick"],Be={key:0,class:"panel"},xe={key:1},Me={class:"panel week-head"},Ue={class:"week-left"},Le={class:"seed-meta"},Oe={class:"seed-grid"},Ve={class:"seed-card-top"},Ke={class:"seed-card-title"},We={class:"badges"},qe={class:"panel"},je={class:"status-grid"},Fe={class:"status-item"},Ge={class:"status-value"},He={class:"status-sub"},Ye={class:"status-item"},Je={class:"status-value"},ze={class:"panel"},Xe={key:0,class:"desc"},Ze={key:1,class:"locked"},Qe={class:"hint",style:{display:"block","margin-top":"6px"}},et={class:"panel actions-row"},tt={class:"action-col"},st=["href"],at={class:"hint"},lt={class:"action-col"},nt=["onClick"],ot={class:"hint"},it={class:"modal"},rt={class:"modal-head"},dt={key:0,class:"modal-sub"},ut={key:0,class:"status error"},ct={key:1,class:"status ok"},mt={class:"form-grid"},vt={class:"field full"},ht={class:"field"},pt={class:"field"},ft={class:"field"},yt={class:"field"},wt={class:"field"},kt={class:"field"},bt={class:"field"},_t={class:"field"},gt={class:"modal-actions"},St=["disabled"],Tt={key:0},$t={key:1},Nt="https://script.google.com/macros/s/AKfycbyJK333jg0bfKs67jGiRw4r-gxjj5ElrIO-tygb8YYoX0gYbxyosAHt8qoFafZYWVM/exec",Ct=z({__name:"DownloadSeeds",setup(Q){const p=u(null),k=u("all"),C=u(new Date);let P=null;X(async()=>{const r=await fetch("/data/releases.json",{cache:"no-store"});p.value=await r.json(),p.value&&(k.value=Y(p.value)),P=window.setInterval(()=>{C.value=new Date},1e3)}),te(()=>{P&&window.clearInterval(P)});function f(r){const t=new Date(r);return Number.isNaN(t.getTime())?new Date(0):t}function v(r,t){return r===!0?!0:r===!1?!1:C.value.getTime()>=f(t).getTime()}function h(r){const t=f(r);return t.getTime()===0?"Unknown time":t.toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}function m(r){const t=f(r).getTime();return t===0?0:Math.max(0,t-C.value.getTime())}function b(r){if(r<=0)return"00:00:00";const t=Math.floor(r/1e3),o=Math.floor(t/86400),d=Math.floor(t%86400/3600),j=Math.floor(t%3600/60),de=t%60,ae=String(d).padStart(2,"0"),le=String(j).padStart(2,"0"),ne=String(de).padStart(2,"0");return o>0?`${o}d ${ae}:${le}:${ne}`:`${ae}:${le}:${ne}`}function _(r){const t=f(r).getTime();return t===0?!1:C.value.getTime()>=t}const U=H(()=>p.value?k.value==="all"?p.value.weeks:p.value.weeks.filter(r=>r.week===k.value):[]);function N(r){k.value=r}function Y(r){const t=[...r.weeks||[]].sort((d,j)=>j.week-d.week),o=t.find(d=>d.seeds?.some(j=>v(j.releases.forceDownload,j.releases.downloadAt)));return o?o.week:t[0]?.week??"all"}function g(r){const t=v(r.releases.forceDownload,r.releases.downloadAt),o=!_(r.deadlineAt);return t&&o}const V=u(!1),S=u(null),L=u(""),K=u(""),O=u(""),I=u(null),W=u(null),B=u(""),i=u(""),s=u(null),n=u(null),w=u(!1),T=u(""),$=u("");function q(r,t){S.value={week:r,seed:t},V.value=!0,T.value="",$.value=""}function G(){V.value=!1,S.value=null,T.value="",$.value="",w.value=!1,L.value="",K.value="",O.value="",I.value=null,W.value=null,B.value="",i.value="",s.value=null,n.value=null}function x(r){if(r==null||r==="")return null;const t=Number(r);return Number.isFinite(t)?Math.max(0,Math.floor(t)):null}const se=H(()=>!S.value||!g(S.value.seed)?!1:L.value.trim().length>0&&K.value.trim().length>0&&O.value.trim().length>0&&x(I.value)!==null&&x(W.value)!==null&&B.value.trim().length>0&&i.value.trim().length>0&&x(s.value)!==null&&x(n.value)!==null&&!w.value);async function re(){if(T.value="",$.value="",!S.value){T.value="No seed selected.";return}if(!se.value){T.value="Please fill all fields.";return}w.value=!0;try{const r={week:S.value.week,seedId:S.value.seed.id,seedTitle:S.value.seed.title,teamName:L.value.trim(),p1Name:K.value.trim(),p1Time:O.value.trim(),p1Kills:x(I.value),p1Deaths:x(W.value),p2Name:B.value.trim(),p2Time:i.value.trim(),p2Kills:x(s.value),p2Deaths:x(n.value)},o=await(await fetch(Nt,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(r)})).json();if(!o?.ok)throw new Error(o?.error||"Submission failed");$.value="âœ… Submitted! Thanks."}catch(r){T.value=`âŒ ${r?.message||"Submission failed"}`}finally{w.value=!1}}return(r,t)=>(l(),a("div",Pe,[e("header",Ae,[t[10]||(t[10]=e("div",{class:"seed-title"},[e("h2",null,"Seed Releases"),e("p",{class:"seed-sub"}," Rules unlock first. Download unlocks later. Submit runs directly on the site once download is available. ")],-1)),e("div",Ee,[(l(!0),a(y,null,M(p.value?.weeks||[],o=>(l(),a("button",{key:o.week,class:F(["chip",{active:k.value===o.week}]),onClick:d=>N(o.week)}," Week "+c(o.week),11,Ie))),128)),e("button",{class:F(["chip",{active:k.value==="all"}]),onClick:t[0]||(t[0]=o=>N("all"))}," All Weeks ",2)])]),p.value?(l(),a("div",xe,[(l(!0),a(y,null,M(U.value,o=>(l(),a("section",{key:o.week,style:{"margin-top":"16px"}},[e("div",Me,[e("div",Ue,[t[11]||(t[11]=e("span",{class:"dot"},null,-1)),e("strong",null,"Week "+c(o.week),1)]),e("span",Le,c(o.seeds.length)+" seeds",1)]),e("div",Oe,[(l(!0),a(y,null,M(o.seeds,d=>(l(),a("article",{key:d.id,class:"seed-card"},[e("div",Ve,[e("div",null,[e("h4",Ke,c(d.title),1)]),e("div",We,[e("span",{class:F(["badge",{on:v(d.releases.forceDescription,d.releases.descriptionAt)}])}," Description ",2),e("span",{class:F(["badge",{on:v(d.releases.forceDownload,d.releases.downloadAt)}])}," Download ",2)])]),e("div",qe,[e("div",je,[e("div",Fe,[t[12]||(t[12]=e("div",{class:"status-label"},"Download Unlock",-1)),e("div",Ge,[e("strong",null,c(h(d.releases.downloadAt)),1)]),e("div",He,[v(d.releases.forceDownload,d.releases.downloadAt)?(l(),a(y,{key:0},[E(" âœ… Download available ")],64)):(l(),a(y,{key:1},[E(" â³ "+c(b(m(d.releases.downloadAt)))+" remaining ",1)],64))])]),e("div",Ye,[t[13]||(t[13]=e("div",{class:"status-label"},"Seed Deadline",-1)),e("div",Je,[e("strong",null,c(h(d.deadlineAt)),1)]),e("div",{class:F(["status-sub",{danger:_(d.deadlineAt)}])},[_(d.deadlineAt)?(l(),a(y,{key:0},[E("â›” Deadline passed")],64)):(l(),a(y,{key:1},[E("â³ "+c(b(m(d.deadlineAt)))+" remaining",1)],64))],2)])])]),e("div",ze,[v(d.releases.forceDescription,d.releases.descriptionAt)?(l(),a("div",Xe,c(d.descriptionText),1)):(l(),a("p",Ze,[t[14]||(t[14]=E(" Description unlocked at ",-1)),e("strong",null,c(h(d.releases.descriptionAt)),1),e("span",Qe," â³ "+c(b(m(d.releases.descriptionAt)))+" remaining ",1)]))]),e("div",et,[e("div",tt,[v(d.releases.forceDownload,d.releases.downloadAt)?(l(),a(y,{key:0},[e("a",{class:"btn",href:d.download.url,target:"_blank",rel:"noopener noreferrer"}," â¬‡ï¸ "+c(d.download.label),9,st),t[15]||(t[15]=e("p",{class:"hint"},"Opens GitHub in a new tab.",-1))],64)):(l(),a(y,{key:1},[t[16]||(t[16]=e("button",{class:"btn disabled",disabled:""},"â¬‡ï¸ Download locked",-1)),e("p",at,"Unlocks in "+c(b(m(d.releases.downloadAt))),1)],64))]),e("div",lt,[g(d)?(l(),a(y,{key:0},[e("button",{class:"btn submit",onClick:j=>q(o.week,d)}," ðŸ“ Submit Run ",8,nt),t[17]||(t[17]=e("p",{class:"hint"},"Submit directly on the site.",-1))],64)):(l(),a(y,{key:1},[t[18]||(t[18]=e("button",{class:"btn disabled",disabled:""},"ðŸ“ Submit locked",-1)),e("p",ot,[_(d.deadlineAt)?(l(),a(y,{key:0},[E("Deadline passed.")],64)):(l(),a(y,{key:1},[E("Unlocks when download is released.")],64))])],64))])])]))),128))])]))),128))])):(l(),a("div",Be," Loading seed releasesâ€¦ ")),V.value?(l(),a("div",{key:2,class:"modal-backdrop",onClick:ue(G,["self"])},[e("div",it,[e("div",rt,[e("div",null,[t[19]||(t[19]=e("div",{class:"modal-title"},"Submit Run",-1)),S.value?(l(),a("div",dt," Week "+c(S.value.week)+" â€¢ "+c(S.value.seed.title),1)):A("",!0)]),e("button",{class:"x",onClick:G},"âœ•")]),T.value?(l(),a("div",ut,c(T.value),1)):A("",!0),$.value?(l(),a("div",ct,c($.value),1)):A("",!0),e("div",mt,[e("div",vt,[t[20]||(t[20]=e("label",null,"Team Name *",-1)),D(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>L.value=o),placeholder:"Example: The Crimson Chin"},null,512),[[R,L.value]])]),e("div",ht,[t[21]||(t[21]=e("label",null,"Player 1 Name *",-1)),D(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>K.value=o),placeholder:"Player 1"},null,512),[[R,K.value]])]),e("div",pt,[t[22]||(t[22]=e("label",null,"Player 1 Time *",-1)),D(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>O.value=o),placeholder:"hh:mm:ss or mm:ss"},null,512),[[R,O.value]])]),e("div",ft,[t[23]||(t[23]=e("label",null,"P1 Checks *",-1)),D(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>I.value=o),type:"number",min:"0",placeholder:"0"},null,512),[[R,I.value,void 0,{number:!0}]])]),e("div",yt,[t[24]||(t[24]=e("label",null,"P1 Deaths *",-1)),D(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>W.value=o),type:"number",min:"0",placeholder:"0"},null,512),[[R,W.value,void 0,{number:!0}]])]),e("div",wt,[t[25]||(t[25]=e("label",null,"Player 2 Name *",-1)),D(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>B.value=o),placeholder:"Player 2"},null,512),[[R,B.value]])]),e("div",kt,[t[26]||(t[26]=e("label",null,"Player 2 Time *",-1)),D(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>i.value=o),placeholder:"hh:mm:ss or mm:ss"},null,512),[[R,i.value]])]),e("div",bt,[t[27]||(t[27]=e("label",null,"P2 Checks *",-1)),D(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.value=o),type:"number",min:"0",placeholder:"0"},null,512),[[R,s.value,void 0,{number:!0}]])]),e("div",_t,[t[28]||(t[28]=e("label",null,"P2 Deaths *",-1)),D(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>n.value=o),type:"number",min:"0",placeholder:"0"},null,512),[[R,n.value,void 0,{number:!0}]])])]),e("div",gt,[e("button",{class:"btn2 ghost",onClick:G},"Cancel"),e("button",{class:"btn2 primary",disabled:!se.value,onClick:re},[w.value?(l(),a("span",$t,"Submittingâ€¦")):(l(),a("span",Tt,"Submit"))],8,St)])])])):A("",!0)]))}}),oe=Z(Ct,[["__scopeId","data-v-ab270777"]]),Dt={class:"wrap"},Rt={class:"signup-card"},Pt={class:"left"},At={class:"grid"},Et={class:"field"},It={class:"field"},Bt={class:"field"},xt={class:"field"},Mt={class:"field full"},Ut={key:0,class:"status error"},Lt={key:1,class:"status ok"},Ot={class:"right"},Vt=["disabled"],Kt={key:0},Wt={key:1},qt={class:"teams-card"},jt={class:"teams-head"},Ft={key:0,class:"mh-sub"},Gt={key:1,class:"mh-sub"},Ht={key:0,class:"empty"},Yt={key:1,class:"teams-scroll"},Jt={class:"team-main"},zt={class:"team-text"},Xt={key:0,class:"ts"},Zt={class:"team-links"},Qt=["href"],es=["href"],ie="https://script.google.com/macros/s/AKfycbx5dLXFc2BYN6wmkl31qZvWDwcJLNqOiu82JwVJfW2YyqutX0VosVZPvkxIvCr1ysES/exec",ts=z({__name:"SignUps",setup(Q){const p=u(""),k=u(""),C=u(""),P=u(""),f=u(""),v=u(!1),h=u(""),m=u(""),b=u([]),_=u(!0);let U=null;function N(i){const s=(i||"").trim();if(!s)return"";const n=/^https?:\/\//i.test(s)?s:`https://${s}`;try{const w=new URL(n);if(w.hostname.toLowerCase().replace(/^www\./,"")!=="twitch.tv")return n;let $=w.pathname||"/";$=$.replace(/^\/+/,"/"),$=$.replace(/^\/(www\.)?twitch\.tv\//i,"/");const q=$.split("/").filter(Boolean)[0]||"";return q?`https://twitch.tv/${q}`:"https://twitch.tv"}catch{return s}}function Y(i){const s=(i||"").trim();if(!s)return"";try{const n=new URL(/^https?:\/\//i.test(s)?s:`https://${s}`);if(n.hostname.toLowerCase().replace(/^www\./,"")!=="twitch.tv")return s;const T=n.pathname.split("/").filter(Boolean)[0];return T?`@${T}`:s}catch{return s}}function g(i){return String(i??"").trim().replace(/\s+/g," ")}function V(i){return g(i).toLowerCase()}function S(i){if(!i)return 0;const n=new Date(i).getTime();return Number.isNaN(n)?0:n}function L(i){const s=V(i.playerName),n=V(i.teammateName),w=[s,n].sort().join("|");return`${V(i.teamName)}::${w}`}function K(i){const s=g(i.playerName)||"Player 1",n=g(i.teammateName)||"Player 2",w=g(i.teamName)||"TEAM";return`${s} & ${n} as "${w}"`}const O=H(()=>g(p.value).length>0&&g(C.value).length>0&&g(f.value).length>0&&!v.value);async function I(){try{_.value=!0;const s=await(await fetch(ie,{method:"GET",cache:"no-store"})).json();if(!s?.ok)throw new Error(s?.error||"Failed to load teams");b.value=s.teams||[]}catch(i){console.error(i)}finally{_.value=!1}}async function W(){if(h.value="",m.value="",!O.value){h.value="Please fill Player Name, Teammate Name, and Team Name.";return}v.value=!0;try{const i={playerName:g(p.value),playerTwitch:N(k.value),teammateName:g(C.value),teammateTwitch:N(P.value),teamName:g(f.value)},n=await(await fetch(ie,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(i)})).json();if(!n?.ok)throw new Error(n?.error||"Submission failed");m.value="âœ… Signed up! Your team should appear below shortly.",p.value="",k.value="",C.value="",P.value="",f.value="",await I()}catch(i){h.value=`âŒ ${i?.message||"Submission failed"}`}finally{v.value=!1}}const B=H(()=>{const i=new Map;for(const s of b.value){const n=g(s.playerName),w=g(s.teammateName),T=g(s.teamName);if(!n||!w||!T)continue;const $=L({...s,playerName:n,teammateName:w,teamName:T}),q=i.get($);if(!q)i.set($,s);else{const G=S(q.timestamp);S(s.timestamp)>=G&&i.set($,s)}}return Array.from(i.values()).sort((s,n)=>S(n.timestamp)-S(s.timestamp))});return X(async()=>{await I(),U=window.setInterval(I,15e3)}),te(()=>{U&&window.clearInterval(U)}),(i,s)=>(l(),a("div",Dt,[e("div",Rt,[e("div",Pt,[s[10]||(s[10]=e("h2",{class:"title"},"Team Sign Up",-1)),s[11]||(s[11]=e("p",{class:"sub"},"Enter your duo info",-1)),e("div",At,[e("div",Et,[s[5]||(s[5]=e("label",null,"Player Name *",-1)),D(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>p.value=n),placeholder:"Player 1"},null,512),[[R,p.value]])]),e("div",It,[s[6]||(s[6]=e("label",null,"Player Twitch",-1)),D(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>k.value=n),placeholder:"Paste your Twitch URL (https://twitch.tv/yourname) or the last part for Ex: itsshura"},null,512),[[R,k.value]])]),e("div",Bt,[s[7]||(s[7]=e("label",null,"Teammate Name *",-1)),D(e("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>C.value=n),placeholder:"Player 2"},null,512),[[R,C.value]])]),e("div",xt,[s[8]||(s[8]=e("label",null,"Teammate Twitch",-1)),D(e("input",{"onUpdate:modelValue":s[3]||(s[3]=n=>P.value=n),placeholder:"Paste teammate Twitch URL or the last part for Ex: itsshura"},null,512),[[R,P.value]])]),e("div",Mt,[s[9]||(s[9]=e("label",null,"Team Name *",-1)),D(e("input",{"onUpdate:modelValue":s[4]||(s[4]=n=>f.value=n),placeholder:"Example: The Crimson Chin"},null,512),[[R,f.value]])])]),h.value?(l(),a("p",Ut,c(h.value),1)):A("",!0),m.value?(l(),a("p",Lt,c(m.value),1)):A("",!0)]),e("div",Ot,[e("button",{class:F(["btn",{loading:v.value}]),disabled:!O.value,onClick:W},[v.value?(l(),a("span",Wt,"Signing upâ€¦")):(l(),a("span",Kt,"Sign Up"))],10,Vt),s[12]||(s[12]=e("p",{class:"hint"},"Required: Player Name, Teammate Name, Team Name",-1))])]),e("div",qt,[e("div",jt,[s[14]||(s[14]=e("div",{class:"dot"},null,-1)),e("div",null,[s[13]||(s[13]=e("div",{class:"mh-title"},"Signed Up Teams",-1)),_.value?(l(),a("div",Ft,"Loadingâ€¦")):(l(),a("div",Gt,c(B.value.length)+" teams",1))])]),B.value.length===0&&!_.value?(l(),a("div",Ht," No teams yet â€” be the first ðŸ‘€ ")):(l(),a("div",Yt,[(l(!0),a(y,null,M(B.value,(n,w)=>(l(),a("div",{class:"team-row",key:L(n)+":"+w},[e("div",Jt,[e("span",zt,c(K(n)),1),n.timestamp?(l(),a("span",Xt,"("+c(new Date(n.timestamp).toLocaleString())+")",1)):A("",!0)]),e("div",Zt,[n.playerTwitch?(l(),a("a",{key:0,class:"pill-link",href:N(n.playerTwitch),target:"_blank",rel:"noopener noreferrer"}," Player 1: "+c(Y(N(n.playerTwitch))),9,Qt)):A("",!0),n.teammateTwitch?(l(),a("a",{key:1,class:"pill-link",href:N(n.teammateTwitch),target:"_blank",rel:"noopener noreferrer"}," Player 2: "+c(Y(N(n.teammateTwitch))),9,es)):A("",!0)])]))),128))]))])]))}}),ss=Z(ts,[["__scopeId","data-v-57c1058a"]]),as={class:"page"},ls={class:"home"},ns={class:"stack"},os={id:"seeds",class:"section"},is={class:"details",open:""},rs={class:"details-body"},ds={class:"block"},us={id:"rules",class:"section"},cs={class:"details",open:""},ms={class:"details-body scroll-safe"},vs=z({__name:"HomePageBefore",setup(Q){const p=u([]),k=u([]),C=u([]);return X(async()=>{const[P,f]=await Promise.all([fetch("/data/teams.json",{cache:"no-store"}),fetch("/data/releases.json",{cache:"no-store"})]),v=await P.json();p.value=v.teams||[],k.value=v.races||[],C.value=v.pointsTable||[]}),(P,f)=>(l(),a("div",as,[e("div",ls,[e("main",ns,[J(ss),J(oe),e("template",null,[e("section",os,[e("details",is,[f[0]||(f[0]=ee('<summary class="summary" data-v-356fa9ed><div class="sum-left" data-v-356fa9ed><h2 class="sum-title" data-v-356fa9ed>Seed Releases</h2><p class="summary-sub" data-v-356fa9ed>Click to collapse / expand</p></div><span class="chev" data-v-356fa9ed>â–¾</span></summary>',1)),e("div",rs,[e("div",ds,[J(oe)])])])])]),e("section",us,[e("details",cs,[f[1]||(f[1]=ee('<summary class="summary" data-v-356fa9ed><div class="sum-left" data-v-356fa9ed><h2 class="sum-title" data-v-356fa9ed>Rules</h2><p class="summary-sub" data-v-356fa9ed>Click to collapse / expand</p></div><span class="chev" data-v-356fa9ed>â–¾</span></summary>',1)),e("div",ms,[J(Re)])])])])])]))}}),ps=Z(vs,[["__scopeId","data-v-356fa9ed"]]);export{ps as default};
