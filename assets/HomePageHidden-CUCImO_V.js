import{T as v}from"./LeaderboardRaceCard-BDVgUoVh.js";import{d as D,r as l,c as m,o as M,a as N,b as d,f as s,e as O,i as S,h as p,t as _,l as f,F as j,g as H,j as i,_ as V}from"./index-CK0qYAic.js";const A={class:"page"},B={class:"home"},C={class:"topbar"},I={class:"top-actions"},P={class:"meta"},R={class:"pill"},F={class:"pill"},L={key:0,class:"pill glow"},W={id:"leaderboard",class:"card"},E={class:"card-body"},U={key:0,class:"scroll-safe"},q={key:1,class:"skeleton"},z={class:"sk-grid"},G=D({__name:"HomePageHidden",setup(J){const n=l([]),o=l([]),w=l([]),r=l(null),c=l(new Date);let u=null;function g(a){const e=new Date(a);return Number.isNaN(e.getTime())?new Date(0):e}function b(a,e){return a===!0?!0:a===!1?!1:c.value.getTime()>=g(e).getTime()}function k(a){const e=g(a).getTime();return e===0?!1:c.value.getTime()>=e}const h=m(()=>{if(!r.value)return!1;for(const a of r.value.weeks||[])for(const e of a.seeds||[]){const t=b(e.releases.forceDownload,e.releases.downloadAt),y=!k(e.deadlineAt);if(t&&y)return!0}return!1}),T=m(()=>n.value?.length??0),x=m(()=>o.value?.length??0);return M(async()=>{const[a,e]=await Promise.all([fetch("/data/teamsHidden.json",{cache:"no-store"}),fetch("/data/releases.json",{cache:"no-store"})]),t=await a.json();n.value=t.teams||[],o.value=t.races||[],w.value=t.pointsTable||[],r.value=await e.json(),u=window.setInterval(()=>c.value=new Date,1e3)}),N(()=>{u&&window.clearInterval(u)}),(a,e)=>(i(),d("div",A,[s("div",B,[s("header",C,[e[3]||(e[3]=O('<div class="title" data-v-94c6be29><div class="spark" data-v-94c6be29>ğŸ</div><div class="title-text" data-v-94c6be29><div class="h1" data-v-94c6be29>Leaderboard</div><div class="sub" data-v-94c6be29> Ranked by team time with F1-style points. Expand rows for per-race details. </div></div></div>',1)),s("div",I,[s("div",P,[s("span",R,[e[0]||(e[0]=s("span",{class:"dot"},null,-1)),p(" "+_(T.value)+" teams ",1)]),s("span",F,[e[1]||(e[1]=s("span",{class:"dot dot2"},null,-1)),p(" "+_(x.value)+" races ",1)]),h.value?(i(),d("span",L,e[2]||(e[2]=[s("span",{class:"dot dot3"},null,-1),p(" Active seed live ",-1)]))):S("",!0)])])]),s("section",W,[e[7]||(e[7]=s("div",{class:"card-head"},[s("h2",null,"Overall Standings")],-1)),s("div",E,[n.value.length?(i(),d("div",U,[f(v,{teams:n.value,raceOrder:o.value,pointsTable:w.value},null,8,["teams","raceOrder","pointsTable"]),f(v,{teams:n.value,raceOrder:o.value,scoringMode:"percentile",percentileMin:10,percentileMax:50,percentileDecimals:0},null,8,["teams","raceOrder"]),f(v,{teams:n.value,raceOrder:o.value,scoringMode:"gap",gapMin:10,gapMax:50,gapWindowMode:"max",gapWindowSeconds:180,closeWindowSeconds:60,decimals:0},null,8,["teams","raceOrder"])])):(i(),d("div",q,[e[4]||(e[4]=s("div",{class:"sk-line w40"},null,-1)),e[5]||(e[5]=s("div",{class:"sk-line w70"},null,-1)),e[6]||(e[6]=s("div",{class:"sk-line w55"},null,-1)),s("div",z,[(i(),d(j,null,H(8,t=>s("div",{class:"sk-box",key:t})),64))])]))])])])]))}}),X=V(G,[["__scopeId","data-v-94c6be29"]]);export{X as default};
