import{T as y}from"./Leaderboard-BpvEDDg7.js";import{d as D,r as o,c as v,o as N,a as x,b as n,f as s,e as j,i as H,h as m,t as w,p as V,F as A,g as B,j as l,_ as C}from"./index-D2YvvBIt.js";const I={class:"page"},O={class:"home"},P={class:"topbar"},R={class:"top-actions"},S={class:"meta"},F={class:"pill"},L={class:"pill"},E={key:0,class:"pill glow"},M={id:"leaderboard",class:"card"},U={class:"card-body"},q={key:0,class:"scroll-safe"},z={key:1,class:"skeleton"},G={class:"sk-grid"},J=D({__name:"HomePageHidden",setup(K){const d=o([]),i=o([]),p=o([]),r=o(null),c=o(new Date);let u=null;function f(t){const e=new Date(t);return Number.isNaN(e.getTime())?new Date(0):e}function _(t,e){return t===!0?!0:t===!1?!1:c.value.getTime()>=f(e).getTime()}function b(t){const e=f(t).getTime();return e===0?!1:c.value.getTime()>=e}const g=v(()=>{if(!r.value)return!1;for(const t of r.value.weeks||[])for(const e of t.seeds||[]){const a=_(e.releases.forceDownload,e.releases.downloadAt),T=!b(e.deadlineAt);if(a&&T)return!0}return!1}),k=v(()=>d.value?.length??0),h=v(()=>i.value?.length??0);return N(async()=>{const[t,e]=await Promise.all([fetch("/data/teamsHidden.json",{cache:"no-store"}),fetch("/data/releases.json",{cache:"no-store"})]),a=await t.json();d.value=a.teams||[],i.value=a.races||[],p.value=a.pointsTable||[],r.value=await e.json(),u=window.setInterval(()=>c.value=new Date,1e3)}),x(()=>{u&&window.clearInterval(u)}),(t,e)=>(l(),n("div",I,[s("div",O,[s("header",P,[e[3]||(e[3]=j('<div class="title" data-v-6b20566d><div class="spark" data-v-6b20566d>ğŸ</div><div class="title-text" data-v-6b20566d><div class="h1" data-v-6b20566d>Leaderboard</div><div class="sub" data-v-6b20566d> Ranked by team time with F1-style points. Expand rows for per-race details. </div></div></div>',1)),s("div",R,[s("div",S,[s("span",F,[e[0]||(e[0]=s("span",{class:"dot"},null,-1)),m(" "+w(k.value)+" teams ",1)]),s("span",L,[e[1]||(e[1]=s("span",{class:"dot dot2"},null,-1)),m(" "+w(h.value)+" races ",1)]),g.value?(l(),n("span",E,e[2]||(e[2]=[s("span",{class:"dot dot3"},null,-1),m(" Active seed live ",-1)]))):H("",!0)])])]),s("section",M,[e[7]||(e[7]=s("div",{class:"card-head"},[s("h2",null,"Overall Standings")],-1)),s("div",U,[d.value.length?(l(),n("div",q,[V(y,{teams:d.value,raceOrder:i.value,pointsTable:p.value},null,8,["teams","raceOrder","pointsTable"])])):(l(),n("div",z,[e[4]||(e[4]=s("div",{class:"sk-line w40"},null,-1)),e[5]||(e[5]=s("div",{class:"sk-line w70"},null,-1)),e[6]||(e[6]=s("div",{class:"sk-line w55"},null,-1)),s("div",G,[(l(),n(A,null,B(8,a=>s("div",{class:"sk-box",key:a})),64))])]))])])])]))}}),X=C(J,[["__scopeId","data-v-6b20566d"]]);export{X as default};
